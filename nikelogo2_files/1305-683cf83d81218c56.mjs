(self.modernJsonp=self.modernJsonp||[]).push([["1305"],{108679:function(e,t,n){var a=n(121296),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function s(e){return a.isMemo(e)?o:l[e.$$typeof]||r}l[a.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[a.Memo]=o;var d=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,a){if("string"!=typeof n){if(f){var r=p(n);r&&r!==f&&e(t,r,a)}var o=c(n);u&&(o=o.concat(u(n)));for(var l=s(t),m=s(n),h=0;h<o.length;++h){var g=o[h];if(!i[g]&&!(a&&a[g])&&!(m&&m[g])&&!(l&&l[g])){var v=_(n,g);try{d(t,g,v)}catch(e){}}}}return t}},396103:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,a=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,_=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116;function h(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case c:case u:case i:case l:case o:case p:return e;default:switch(e=e&&e.$$typeof){case d:case _:case s:return e;default:return t}}case m:case f:case r:return t}}}function g(e){return h(e)===u}t.typeOf=h,t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=s,t.Element=a,t.ForwardRef=_,t.Fragment=i,t.Lazy=m,t.Memo=f,t.Portal=r,t.Profiler=l,t.StrictMode=o,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===u||e===l||e===o||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===s||e.$$typeof===d||e.$$typeof===_)},t.isAsyncMode=function(e){return g(e)||h(e)===c},t.isConcurrentMode=g,t.isContextConsumer=function(e){return h(e)===d},t.isContextProvider=function(e){return h(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return h(e)===_},t.isFragment=function(e){return h(e)===i},t.isLazy=function(e){return h(e)===m},t.isMemo=function(e){return h(e)===f},t.isPortal=function(e){return h(e)===r},t.isProfiler=function(e){return h(e)===l},t.isStrictMode=function(e){return h(e)===o},t.isSuspense=function(e){return h(e)===p}},121296:function(e,t,n){e.exports=n(396103)},892703:function(e,t,n){var a=n(150414);function r(){}e.exports=function(){function e(e,t,n,r,i,o){if(o!==a){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(892703)()},150414:function(e){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},869921:function(e,t){var n="function"==typeof Symbol&&Symbol.for;n&&Symbol.for("react.element"),n&&Symbol.for("react.portal"),n&&Symbol.for("react.fragment"),n&&Symbol.for("react.strict_mode"),n&&Symbol.for("react.profiler"),n&&Symbol.for("react.provider"),n&&Symbol.for("react.context"),n&&Symbol.for("react.async_mode"),n&&Symbol.for("react.concurrent_mode"),n&&Symbol.for("react.forward_ref"),n&&Symbol.for("react.suspense"),n&&Symbol.for("react.suspense_list"),n&&Symbol.for("react.memo"),n&&Symbol.for("react.lazy"),n&&Symbol.for("react.block"),n&&Symbol.for("react.fundamental"),n&&Symbol.for("react.responder"),n&&Symbol.for("react.scope")},659864:function(e,t,n){n(869921)},78273:function(e,t,n){function a(e){return"/"===e.charAt(0)}function r(e,t){for(var n=t,a=n+1,r=e.length;a<r;n+=1,a+=1)e[n]=e[a];e.pop()}n.d(t,{Z:()=>i});let i=function(e,t){void 0===t&&(t="");var n,i=e&&e.split("/")||[],o=t&&t.split("/")||[],l=e&&a(e),s=t&&a(t),d=l||s;if(e&&a(e)?o=i:i.length&&(o.pop(),o=o.concat(i)),!o.length)return"/";if(o.length){var c=o[o.length-1];n="."===c||".."===c||""===c}else n=!1;for(var u=0,_=o.length;_>=0;_--){var p=o[_];"."===p?r(o,_):".."===p?(r(o,_),u++):u&&(r(o,_),u--)}if(!d)for(;u--;)o.unshift("..");!d||""===o[0]||o[0]&&a(o[0])||o.unshift("");var f=o.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f}},139368:function(e,t,n){var a,r,i,o;n.r(t),n.d(t,{default:()=>s});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCard_board",selections:[{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSponsoredContent",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},a,o,r,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_coverPin"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_board"}],type:"Board",abstractKey:null};l.hash="160b60f499ce33660e2c11915eed4d09";let s=l},184242:function(e,t,n){var a,r,i,o;n.r(t),n.d(t,{default:()=>s});let l={argumentDefinitions:[{kind:"RootArgument",name:"isCloseupRelatedModulesFeedQuery"}],kind:"Fragment",metadata:null,name:"BoardRep_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:r=[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:o=[i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:o,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},i,{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null}]},{args:null,kind:"FragmentSpread",name:"BoardCard_board"},{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],type:"Board",abstractKey:null};l.hash="b51e16b22d651401bb711c808b3fd44c";let s=l},237453:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardButton_board"}],type:"Board",abstractKey:null};a.hash="0e2c441822700a6145ea7cd142c0425b";let r=a},608649:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_coverPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],type:"CoverPin",abstractKey:null};a.hash="35b139c2e951baaa6624b30e45f913ce";let r=a},980360:function(e,t,n){var a;n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:a,storageKey:null}],type:"Pin",abstractKey:null};r.hash="cabaa35ed7d59dee006897bf3ef32e3d";let i=r},423347:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardButton_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardFlyout_board"}],type:"Board",abstractKey:null};a.hash="8d95294efe15498023c69669c6a41e71";let r=a},452525:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardFlyout_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};a.hash="f459445ee8d1ea0db022e490ef5a2e80";let r=a},577846:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_parentPin",selections:[{args:null,kind:"FragmentSpread",name:"PinRep_parentPin"}],type:"Pin",abstractKey:null};a.hash="cb2594cad81be6eec825977b7bcb2003";let r=a},897315:function(e,t,n){var a;n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[{kind:"RootArgument",name:"isCloseupRelatedModulesFeedQuery"},{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_pin",selections:[{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:a=[{args:null,kind:"FragmentSpread",name:"PinRepInner_board"}],storageKey:null}]},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:a,storageKey:null},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};r.hash="2ad46c1434449adc873e18a9bb58cb8c";let i=r},684334:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_parentPin",selections:[{args:null,kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_parentPin"}],type:"Pin",abstractKey:null};a.hash="970c9e8a0b93cdd43095e6934563c7eb";let r=a},249152:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};a.hash="cf7ae619f5ec8cf58cf3302e69136b1d";let r=a},184139:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};a.hash="bb4e0fc2e1a319a6b7c65cb9ad5c8cb6";let r=a},552558:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualSearchMasonryGrid_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};a.hash="4998effb3bbd67a125c188d857131114";let r=a},879991:function(e,t,n){var a;n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetCoverPhoto_board",selections:[{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:a,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:a,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};r.hash="756d8d8edca35eac0a0500359bf60618";let i=r},721465:function(e,t,n){n.d(t,{Z:()=>T});var a,r=n(281098),i=n(667294);n(167912);var o=n(312048),l=n(20256),s=n(618140),d=n(54879),c=n(980787),u=n(28427),_=n(19585),p=n(675973),f=n(355363),m=n(2761),h=n(62291),g=n(159527),v=n(378888),b=n(341742),y=n(845421),E=n(330510),w=n(78762),x=n(785893);let S=(0,w.Z)(()=>n.e("45805").then(n.bind(n,751961)),void 0,e=>751961,"app-www-FeedItemPinRepWrapper",e=>["45805"]),P=(void 0!==a||(a=n(552558)).hash&&"4998effb3bbd67a125c188d857131114"!==a.hash&&console.error("The definition of 'VisualSearchMasonryGrid_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function T({alignStart:e,auxData:t,isFilterOpened:n,isProductFeed:a,pinKey:w,searchId:T,viewParameter:I,viewType:A,visualSearchFlashlightUnifiedResource:C}){(0,i.useEffect)(()=>{(0,r.Z)("VisualSearchMasonryGrid","/app/common/react/components/shopping/RelatedProducts/UnifiedFeed/VisualSearchMasonryGrid.tsx")},[]);let R=(0,E.D)(),O=(0,u.Z)(P,w),N=(0,_.Z)(),k=(0,o.TH)(),{logContextEvent:L}=(0,c.u)(),j=(0,i.useRef)(null),D=(0,i.useRef)(!1),{checkExperiment:F}=(0,p.Z)(),Z=F("dweb_scroll_pin_to_top_on_tap").anyEnabled;(0,i.useEffect)(()=>{j.current?.handleResize()},[n]),(0,b.Z)(()=>{let e=(0,g.Z)(()=>{D.current||(L({event_type:110,view_type:A,view_parameter:I}),D.current=!0)},1e3);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)});let{data:B,isFetching:U,fetchMore:M,isAtEnd:z}=C,V=B?.results||[];return(0,x.jsxs)(l.xu,{"data-test-id":"visual-search-feed",children:[(0,x.jsx)(f.Z,{isAtEndOfFeed:z,itemCount:V.length,children:(0,x.jsx)(l.Rk,{ref:j,align:e?"start":"center",getColumnSpanConfig:e=>{let t="story"===e.type&&e.display_options?.num_columns_requested;return 0===t?1/0:t||1},items:V,loadItems:M,minCols:1,renderItem:function({data:e,itemIdx:n}){switch(e.type){case"pin":let r=(0,x.jsx)(y.Z,{auxData:t,componentType:0,duploQueryRef:null,pinId:e.id,slotIndex:n,surface:a?"ShoppingDynamicHeightGrid":"SearchItem",viewData:{search_identifier:T},viewParameter:I,viewType:A});if(Z)return(0,x.jsx)(S,{headerHeightModifier:d.Or+s.Dj+s.qe,children:r});return r;case"story":let i;if(R&&"unified_entry_point_flashlight_header"===e.story_type)return null;if(O?.entityId){let t=(0,v.mB)(k.search),n=(0,v.mB)(e.action?.url).full_feed_title||"";t.full_feed_title=(0,m.Z)(n);let a=(0,v.XP)(t);i=`/pin/${O.entityId}/visual-search/products/?${a}`}return(0,x.jsx)(h.default,{component:14339,dangerouslySetActionUrl:i,initialSlotIndex:n,showExpanded:!1,story:e,storyKey:{type:"Legacy",data:e},styleOverrides:{justifyContent:"start"},view:A,viewParameter:I});default:return null}},scrollContainer:()=>window})}),(0,x.jsx)(l.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,x.jsx)(l.xH,{accessibilityLabel:N._('Loading visual search results', 'visualSearch.spinner.label', 'Accessibility label for spinner when loading the visual search results'),show:U})})]})}},258193:function(e,t,n){n.d(t,{Z:()=>c});var a=n(667294);function r(e){let{category_filters:t,domain_filters:n,price_filters:a}=e||{};return!!t||!!n||!!a}var i=n(449029),o=n(949044),l=n(886981),s=n(974705);let d=e=>"shop_the_look_module"===e||"stela_landing_page_category_filter"===e;function c({resourceOptions:e}){let[t,n]=(0,a.useState)(),[c,u]=(0,a.useState)(""),[_,p]=(0,a.useState)(),{cachedOneBarModules:f,setCachedOneBarModules:m,cachedDescriptorModules:h,setCachedDescriptorModules:g}=(0,i._)(),v=(0,l.Z)(e?{name:"VisualSearchFlashlightUnifiedResource",options:e}:null),{auxData:b}=v,y=b?.metadata?.one_bar_modules,E=b?.metadata?.descriptors_one_bar_modules,{pin_id:w="",entrypoint:x,crop_source:S}=e||{},P=d(x)?f[w]:(0,o.Z)(s.Z,!0)(y),T=h?.[w]?h[w]:(0,o.Z)(s.Z,!0)(E),I=!Number.isNaN(S)&&5!==Number(S);return(0,a.useEffect)(()=>{y&&d(x)&&m(e=>{if(e[w])return e;let t=(0,o.Z)(s.Z,!0)(y);return{...e,[w]:t}})},[y,m,w,x]),(0,a.useEffect)(()=>{E&&g(()=>h[w]?h:{[w]:(0,o.Z)(s.Z,!0)(E)})},[E,w,g,h]),(0,a.useEffect)(()=>{let{data:e}=v,t=e?.search_identifier;t&&u(t),n(e)},[v]),(0,a.useEffect)(()=>{let{data:e}=v,n=e?.search_identifier,a=t?.search_identifier;e&&(!n||!a||n!==a)&&!r(t)&&r(e)&&p({category_filters:e.category_filters,domain_filters:e.domain_filters,price_filters:e.price_filters})},[_,t,v]),{descriptorModules:I?[]:T,filters:_,oneBarModules:P,searchId:c,setSearchId:u,visualSearchFlashlightUnifiedResource:v}}},449029:function(e,t,n){n.d(t,{_:()=>l,p:()=>s});var a=n(667294),r=n(729434),i=n(785893);let{Provider:o,get:l}=(0,r.Z)("VisualShopContext");function s({children:e}){let[t,n]=(0,a.useState)({}),[r,l]=(0,a.useState)({}),s=(0,a.useRef)(0),d=(0,a.useRef)("");return(0,i.jsx)(o,{value:{cachedOneBarModules:t,setCachedOneBarModules:n,cachedDescriptorModules:r,setCachedDescriptorModules:l,imageContainerScrollTop:s,imageContainerScrollTopForPinId:d},children:e})}},54879:function(e,t,n){n.d(t,{Or:()=>p,Sx:()=>_,ZP:()=>m});var a=n(281098),r=n(667294),i=n(20256),o=n(780879),l=n(676993),s=n(645435),d=n(288910),c=n(78762),u=n(785893);let _=13,p=l.M+100+16,f=(0,c.Z)(()=>n.e("74090").then(n.bind(n,742235)),void 0,e=>742235,"app-common-react-components-OneBar-OneBar",e=>["74090"]);function m({imageUrl:e,initialUrl:t,oneBarModules:n,title:c,viewParameter:p,viewType:m}){return(0,r.useEffect)(()=>{(0,a.Z)("VisualShopHeader","/app/common/react/components/shopping/VisualShopLandingPage/VisualShopHeader.tsx")},[]),(0,u.jsx)(d.v,{children:(0,u.jsx)(o.f,{children:(0,u.jsx)(s.Z,{position:"sticky",shouldShowShadow:!0,children:(0,u.jsxs)(i.xu,{color:"default",direction:"column",display:"flex",children:[(0,u.jsx)(l.Z,{iconType:"cancel",viewParameter:p,viewType:m}),(0,u.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:l.M}},"data-test-id":"visual-shop-header",direction:"row",display:"flex",marginBottom:6,marginStart:_,children:[e&&(0,u.jsx)(i.zd,{height:100,rounding:2,wash:!0,width:100,children:(0,u.jsx)(i.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:e})}),(0,u.jsx)(i.xu,{marginStart:4,children:(0,u.jsx)(i.X6,{accessibilityLevel:1,size:"600",children:c})})]}),!!n&&(0,u.jsx)(i.xu,{marginStart:4,children:(0,u.jsx)(f,{hasProductFiltersApplied:!1,hrefOverride:t,oneBarModulesKey:null,oneBarModulesRest:n,viewParameter:p,viewType:m})})]})})})})}},724810:function(e,t,n){function a({maxPrice:e,minPrice:t,price:n}){return e&&t?`${t}-${e}`:n}n.d(t,{Z:()=>a})},899678:function(e,t,n){n.d(t,{N:()=>s,Z:()=>l});var a=n(281098),r=n(667294),i=n(20256),o=n(785893);function l({children:e,fullWidth:t,overrideDataTestId:n}){return(0,r.useEffect)(()=>{(0,a.Z)("EnablePointerEvents","/app/packages/PinRep/EnablePointerEvents.tsx")},[]),(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":n||"pointer-events-wrapper",children:e})}function s({children:e,enabled:t}){return(0,r.useEffect)(()=>{(0,a.Z)("EnablePointerEvents","/app/packages/PinRep/EnablePointerEvents.tsx")},[]),t?(0,o.jsx)(l,{children:e}):e}},781011:function(e,t,n){n.d(t,{$N:()=>c,Cu:()=>_,NR:()=>l,S9:()=>i,bC:()=>u,fm:()=>a,kM:()=>r,qp:()=>o,uV:()=>s,ug:()=>d});let a={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",BULK_ID_LIBRARY:"BULK_ID_LIBRARY",RESOURCES:"RESOURCES"},r={BILLING_HISTORY:"BILLING_HISTORY",BILLING_RECEIPT:"BILLING_RECEIPT",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_SPEND_SUMMARY:"PREPAID_SPEND_SUMMARY",PREPAID_SPEND_BREAKDOWN:"PREPAID_SPEND_BREAKDOWN",SUMMARY:"SUMMARY"},i={CREATE:"CREATE",MANAGE:"MANAGE",VIEW_REPORT:"VIEW_REPORT",AB_TEST_CREATE:"AB_TEST_CREATE"},o={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},l={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},s="604800",d="86400",c={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},u="click",_="view"},293565:function(e,t,n){n.d(t,{G6:()=>i,i7:()=>o,oi:()=>a,u$:()=>r,un:()=>s,vU:()=>l,w1:()=>d});let a=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),r=e=>e?e.includes("Chrome")?a.CHROME:e.includes("Safari")?a.SAFARI:e.includes("Firefox")?a.FIREFOX:e.includes("Opera")?a.OPERA:e.includes("IE")?a.IE:e.includes("Edge")?a.EDGE:a.OTHER:a.OTHER;function i(e){return r(e)===a.SAFARI}function o(e){return r(e)===a.CHROME}function l(e){return r(e)===a.FIREFOX}function s(e){return r(e)===a.EDGE}function d(e){return r(e)===a.IE}},761578:function(e,t,n){n.d(t,{Z:()=>s});var a=n(667294);function r(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function i(){return window.innerWidth}function o(){return window.innerHeight}function l(){return null}function s(){let e=(0,a.useSyncExternalStore)(r,o,l),t=(0,a.useSyncExternalStore)(r,i,l);return null!==e&&null!==t?{height:e,width:t}:null}},790314:function(e,t,n){n.d(t,{DW:()=>i,I:()=>r,Rn:()=>l,e3:()=>c,oo:()=>a,rk:()=>d,t7:()=>s,zI:()=>o});let a=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},r=.18,i=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2,o=e=>{let t=e.replace("#",""),n=parseInt(t.substr(0,2),16);return(299*n+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155},l=({hexColor:e,saturationMultiplier:t,brightnessMultiplier:n,minSaturationClamp:r,mixVal:i=1,minBrightnessClamp:o=0})=>{let l=a(e);null===l&&(l=[229,229,224]);let s=((e,t,n)=>{let a=Math.max(e/=255,t/=255,n/=255),r=a-Math.min(e,t,n),i=0;return 0!==r&&(i=(a===e?(t-n)/r+6*(t<n):a===t?(n-e)/r+2:(e-t)/r+4)*60)<0&&(i+=360),{h:i,s:0===a?0:r/a,b:a}})(...l),d=(e,t,n)=>Math.max(t,Math.min(e,n));s.s=d(s.s*(1+t),r,1),s.b=d(s.b*(1+n),o,1);let c=(({h:e,s:t,b:n})=>{let a=n*t,r=a*(1-Math.abs(e/60%2-1)),i=n-a,o=0,l=0,s=0;return e<60?(o=a,l=r):e<120?(o=r,l=a):e<180?(l=a,s=r):e<240?(l=r,s=a):e<300?(o=r,s=a):(o=a,s=r),{r:Math.round((o+i)*255),g:Math.round((l+i)*255),b:Math.round((s+i)*255)}})({...s}),u=e=>({r:Math.round(c.r*i+e*(1-i)),g:Math.round(c.g*i+e*(1-i)),b:Math.round(c.b*i+e*(1-i))}),_=u(0),p=u(255);return[[_.r,_.g,_.b],[p.r,p.g,p.b]]};function s(e){if("string"!=typeof e)return{r:0,g:0,b:0,a:0};let t=e.trim(),n="rgba"===t.slice(0,4).toLowerCase(),a=!n&&"rgb"===t.slice(0,3).toLowerCase();if(!n&&!a)return{r:0,g:0,b:0,a:0};let r=t.indexOf("("),i=t.indexOf(")",r);if(-1===r||-1===i)return{r:0,g:0,b:0,a:0};let o=t.slice(r+1,i).split(",").map(e=>e.trim());if(n&&4!==o.length||a&&3!==o.length)return{r:0,g:0,b:0,a:0};let[l,s,d,c]=o,u=Number(l),_=Number(s),p=Number(d),f=n?Number(c):1;return[u,_,p].some(e=>Number.isNaN(e))||n&&Number.isNaN(f)?{r:0,g:0,b:0,a:0}:{r:u,g:_,b:p,a:f}}function d(e,t){let n=e.a+t.a*(1-e.a);return 0===n?{r:0,g:0,b:0,a:0}:{r:Math.round((e.r*e.a+t.r*t.a*(1-e.a))/n),g:Math.round((e.g*e.a+t.g*t.a*(1-e.a))/n),b:Math.round((e.b*e.a+t.b*t.a*(1-e.a))/n),a:n}}let c=e=>`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`},140725:function(e,t,n){n.d(t,{Q:()=>s,Z:()=>d});var a=n(667294),r=n(521009),i=n(346955),o=n(991384),l=n(15667);function s(e,t){let{setViewContextData:n}=(0,i.A$)(),{requestIdentifier:s}=(0,l.B)(),d=(0,r.Z)(),{viewData:c}=(0,i.SU)();(0,a.useEffect)(()=>{e&&(n({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,o.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:s}))},[t])}function d(e){let{children:t,log:n}=e;return s(n),t||null}},469987:function(e,t,n){function a(e){let t=Math.round(e/1e3),n=Math.floor(t/60),a=t%60;return n+":"+(a<10?"0":"")+a}n.d(t,{Z:()=>a})},289032:function(e,t,n){function a(e,t,n){let a,r,i,o=!!n?.leading,l=n?.trailing!==!1,s=n?.maxWait?Math.max(n.maxWait,t):void 0,d=null,c=0;function u(t){let n=a;return a=void 0,c=t,n&&(r=e(...n)),r}function _(e){let n=e-(i??0),a=e-c;return void 0===i||n>=t||n<0||void 0!==s&&a>=s}function p(){let e=Date.now();_(e)?(d=null,l&&a)?u(e):a=void 0:d=setTimeout(p,function(e){let n=e-(i??0),a=e-c,r=t-n;return void 0!==s?Math.min(r,s-a):r}(e))}function f(){null!==d&&clearTimeout(d),d=setTimeout(p,t)}function m(...e){let n=Date.now(),l=_(n);if(a=e,i=n,l){if(null===d)return c=n,d=setTimeout(p,t),o?u(n):r;else if(void 0!==s)return f(),u(n)}return null===d&&f(),r}return m.flush=function(){if(null!==d&&a){let e=Date.now();return clearTimeout(d),d=null,u(e)}return r},m.cancel=function(){null!==d&&clearTimeout(d),c=0,a=void 0,i=void 0,d=null},m}n.d(t,{Z:()=>a})},417162:function(e,t,n){n.d(t,{g:()=>o,t:()=>i});var a=n(667294);let r=(0,a.createContext)(null),i=r,o=()=>(0,a.useContext)(r)},722194:function(e,t,n){n.d(t,{Z:()=>l});var a=n(667294),r=n(413145),i=n(603316);function o(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends a.Component{constructor(...e){super(...e),o(this,"state",{error:null,info:null}),o(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{let{name:t}=this.props,n=this.props.type||"secondary";(0,r.T)({extraData:e.extraData??{},errorBoundary:t,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),(0,i.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,i.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},355940:function(e,t,n){n.d(t,{Z:()=>a});let a=n(722194).Z},13106:function(e,t,n){n.d(t,{Z:()=>a});let a=e=>{let[t,n]=[e?.width||580,e?.height||400],[a,r]=[window.screen.width,window.screen.height];return`scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=${t},height=${n},left=${Math.round((a-t)/2)},top=${r>n?Math.round((r-n)/2):0}`}},461951:function(e,t,n){n.d(t,{$wd:()=>T,AEu:()=>A,AMH:()=>W,Apc:()=>es,BJZ:()=>ee,C9x:()=>V,EFb:()=>ea,Ecf:()=>Q,EvS:()=>P,FCL:()=>ei,F_B:()=>l,G4W:()=>w,Gh8:()=>F,GnN:()=>ec,Hgl:()=>ed,Klx:()=>H,KtD:()=>$,LZO:()=>u,N$$:()=>el,O8_:()=>q,OHS:()=>R,QJA:()=>O,QO3:()=>c,Ryt:()=>k,Tp5:()=>eu,Twt:()=>f,UON:()=>e_,UTl:()=>N,V9q:()=>eo,Vrx:()=>ep,Wmm:()=>a,Wyp:()=>h,XSG:()=>d,XgG:()=>z,YmI:()=>G,_HG:()=>o,_dC:()=>S,a85:()=>x,b2_:()=>v,b9x:()=>Y,bJI:()=>M,bcf:()=>g,buv:()=>X,cpp:()=>b,cxq:()=>j,d40:()=>et,dUT:()=>C,etl:()=>_,fcC:()=>B,hWn:()=>J,hio:()=>p,ilB:()=>m,jKP:()=>D,jc_:()=>I,k29:()=>K,lbE:()=>E,lwx:()=>er,nTo:()=>U,qiK:()=>r,qqC:()=>s,rEw:()=>y,saV:()=>en,v$5:()=>L,z6F:()=>Z,zsO:()=>i});let a="var(--sema-color-background-default)",r="var(--sema-color-background-primary)",i="var(--sema-color-background-secondary)",o="var(--sema-color-background-tertiary)",l="var(--sema-color-background-subtle)",s="var(--sema-color-background-selected)",d="var(--sema-color-background-education)",c="var(--sema-color-background-elevation)",u="var(--sema-color-background-scrim)",_="var(--sema-color-background-inverse)",p="var(--sema-color-background-light)",f="var(--sema-color-background-dark)",m="var(--sema-color-background-disabled)",h="var(--sema-color-background-transparent)",g="var(--sema-color-background-info-default)",v="var(--sema-color-background-info-weak)",b="var(--sema-color-background-recommendation-default)",y="var(--sema-color-background-recommendation-weak)",E="var(--sema-color-background-success-default)",w="var(--sema-color-background-success-weak)",x="var(--sema-color-background-warning-default)",S="var(--sema-color-background-warning-weak)",P="var(--sema-color-background-error-default)",T="var(--sema-color-background-error-weak)",I="var(--sema-color-background-wash-scrims-opaque)",A="var(--sema-color-background-gradient-darken-bottom-weak)",C="var(--sema-color-background-gradient-darken-bottom-strong)",R="var(--sema-color-background-gradient-darken-top-weak)",O="var(--sema-color-background-gradient-darken-top-strong)",N="var(--sema-color-border-decorative)",k="var(--sema-color-border-interactive)",L="var(--sema-color-border-selected)",j="var(--sema-color-border-disabled)",D="var(--sema-color-border-error)",F="var(--sema-color-border-education)",Z="var(--sema-color-border-inverse)",B="var(--sema-color-border-transparent)",U="var(--sema-color-border-focus-outer-default)",M="var(--sema-color-border-focus-inner-default)",z="var(--sema-color-text-default)",V="var(--sema-color-text-subtle)",G="var(--sema-color-text-inverse)",H="var(--sema-color-icon-primary)",K="var(--sema-color-dataviz-01)",W="var(--sema-color-dataviz-02)",$="var(--sema-color-hover-background-default)",q="var(--sema-color-hover-background-primary)",Y="var(--sema-color-hover-background-elevation)",J="var(--sema-color-pressed-background-default)",X="var(--sema-color-pressed-background-elevation)",Q="var(--sema-elevation-shadow-floating)",ee="var(--sema-font-size-body-100)",et="var(--sema-rounding-300)",en="var(--sema-rounding-400)",ea="var(--sema-rounding-pill)",er="var(--sema-space-0)",ei="var(--sema-space-25)",eo="var(--sema-space-100)",el="var(--sema-space-200)",es="var(--sema-space-400)",ed="var(--sema-space-500)",ec="var(--sema-space-800)",eu="var(--sema-space-1000)",e_="var(--sema-space-1200)",ep="var(--sema-space-1400)"},467925:function(e,t,n){function a(e=!0){let t=e?16:void 0,n=t?Math.floor(t/4):void 0;return{experimentalColumnWidth:e?221:void 0,experimentalGutter:t,experimentalGutterBoints:n}}n.d(t,{Z:()=>a})},505712:function(e,t,n){n.d(t,{Z:()=>r});var a=n(15667);let r=()=>{let e="default",{locale:t}=(0,a.B)();return(({"ar-SA":"tall","bn-IN":"tall","hi-IN":"tall","te-IN":"tall","ko-KR":"ck","zh-CN":"ck","zh-TW":"ck",ja:"ja","th-TH":"th","vi-VN":"vi"})[t]??e)===e?"compact":"none"}},821342:function(e,t,n){n.d(t,{$:()=>a,Z:()=>i});let{Provider:a,get:r}=(0,n(729434).Z)("viewer"),i=r},709311:function(e,t,n){n.d(t,{Z:()=>i});var a=n(906553),r=n(15667);let i=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:i,shortformMaximumFractionDigits:o,formatStyle:l,uplimit:s,value:d})=>(0,a.Z)()((0,r.B)().locale||"en-US",d,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:i,shortform_maximum_fraction_digits:o,style:l,uplimit:s})},19585:function(e,t,n){n.d(t,{Z:()=>i,q:()=>a});let{Provider:a,get:r}=(0,n(729434).Z)("i18n"),i=r},670622:function(e,t,n){n.d(t,{Z:()=>o});var a=n(410156),r=n(19585),i=n(302148);function o(){let e=(0,r.Z)();return function(t,n){let r=new Date(t).getTime(),o=Date.now()-r,l=Math.floor(o/a.FS),s=Math.floor(o/a.UK),d=Math.floor(o/a.F4),c=Math.floor(o/a.VL),u=Math.floor(o/a.N9),_=Math.floor(o/a.N1),p=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', l, ' - ', ' -- '),f=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', s, ' - ', ' -- '),m=e.ngettext('{{ days }} day ago', '{{ days }} days ago', d, ' - ', ' -- '),h=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', c, ' - ', ' -- '),g=e.ngettext('{{ months }} month ago', '{{ months }} months ago', u, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),v=e.ngettext('{{ years }} year ago', '{{ years }} years ago', _, ' - ', ' -- '),b=e.ngettext('{{ minutes }}m', '{{ minutes }}m', l, 'minutes ago abbreviated', 'minutes ago abbreviated'),y=e.ngettext('{{ hours }}h', '{{ hours }}h', s, 'hours ago abbreviated', 'hours ago abbreviated'),E=e.ngettext('{{ days }}d', '{{ days }}d', d, 'days ago abbreviated', 'days ago abbreviated'),w=e.ngettext('{{ weeks }}w', '{{ weeks }}w', c, 'weeks ago abbreviated', 'weeks ago abbreviated'),x=e.ngettext('{{ months }}mo', '{{ months }}mo', u, 'months ago abbreviated', 'months ago abbreviated'),S=e.ngettext('{{ years }}y', '{{ years }}y', _, 'years ago abbreviated', 'years ago abbreviated');return _>0?(0,i.nk)(n?S:v,{years:_}).join(""):u>0?(0,i.nk)(n?x:g,{months:u}).join(""):c>0?(0,i.nk)(n?w:h,{weeks:c}).join(""):d>0?(0,i.nk)(n?E:m,{days:d}).join(""):s>0?(0,i.nk)(n?y:f,{hours:s}).join(""):l>0?(0,i.nk)(n?b:p,{minutes:l}).join(""):e._('Just now', ' - ', ' -- ')}}},55543:function(e,t,n){n.d(t,{Z:()=>r});var a=n(603316);function r(e,t){return new Promise((n,r)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)n();else{let t=setInterval(()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,(0,a.nP)(`mweb.loadScript.facebook.tries_${e}`,{sampleRate:.01}))},100)}else if("GSI"===t)if(window.google)n();else{let t=setInterval(()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,(0,a.nP)(`mweb.loadScript.gsi.tries_${e}`,{sampleRate:.01}))},100)}else n()}else{let t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",()=>n()),t.addEventListener("error",r),document.getElementsByTagName("head")[0].appendChild(t)}})}},579275:function(e,t,n){n.d(t,{Z:()=>i});var a=n(312048);let r=["/BingSiteAuth.xml","/about","/add-account","/ads","/ads.txt","/age_verification","/all","/app-ads.txt","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/camera-sam-segmentation","/careers","/categories","/close-account","/collage-creation-tool","/color-seasons","/content-claiming","/convert-business","/convert-personal","/create-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/getWebPushKey","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/holiday-shopping","/homefeed","/idea-ads-tool","/idea-pin-builder","/ideas","/image-proxy.html","/inbox","/install-shuffles","/invited","/jobs","/lens-search","/login","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/parental-passcode","/pin-builder","/pin-creation-tool","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/public-beta","/quick-instant-loading-indicator-app-shell.html","/recently-viewed","/refresh_stored_accounts","/refresh_token","/report","/reports-and-violations","/request-ad-data","/request-data","/robots.txt","/safe-redirect","/search","/session_key","/settings","/shopping","/signup","/socialmanager","/story-pin-builder","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/unauth-profile","/unlink","/upload-image","/upload-image-lens-history","/upload-lens-image","/upload-profile-image","/upload-shuffle-draft","/upload-shuffle-image","/verified","/verify","/videos","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];function i(e){return!!(0,a.LX)({path:"/:username/",end:!0},e.pathname)&&!r.includes(e.pathname.replace(/\/$/,""))}},453179:function(e,t,n){n.d(t,{Mt:()=>y,NK:()=>h,P6:()=>i,UE:()=>w,ZE:()=>f,Zt:()=>m,_J:()=>d,_S:()=>g,cL:()=>_,iR:()=>v,jL:()=>s,oN:()=>r,oU:()=>E,rM:()=>p,sV:()=>c,sY:()=>u,yp:()=>o});var a=n(239728);let r=5e3,i=5e3/a.gJ,o="Pin page",l=["Uploaded by user"],s=(e,t)=>!!t&&!e,d=e=>!!e&&5!==e,c=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e&&"gif"===e,_=({embedSrc:e,embedSubtype:t,embedType:n})=>!!e&&!u(n)&&"pinstory"!==t,p=({link:e,mobileLink:t,trackedLink:n,utmLink:a})=>!t&&!a&&!n&&!e,f=e=>/pin.it/gim.test(e||""),m=({link:e,mobileLink:t,origImageUrl:n,trackedLink:a,utmLink:r})=>t||r||a||e||n||"",h=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function g(e){for(let t of l)if(e===t)return!1;return!0}function v(e){if(!e)return!1;let{id:t,videos:n}=e;if(t&&n?.id&&n.video_list){let{V_720P:e,V_HLSV4:t,V_HLSV3_MOBILE:a}=n.video_list;if(e&&b(e)||t&&b(t)||a&&b(a))return!0}let a=e.story_pin_data?.pages?.[0]?.blocks;if(a){for(let e of a)if("story_pin_video_block"===e.type&&e?.video)return!0}return!1}function b(e){return!!(e.thumbnail&&e.url&&e.width&&e.height)}function y(e){return e?/(?:v\/|V\/|be\/|(?:\?|&)v=|embed\/|shorts\/)([\w-]+)/.exec(e)?.[1]??null:null}function E({isVideo:e,link:t}){return!!e&&!!t&&!!/(youtu(|.)be)/.exec(t)&&!!y(t)}let w=e=>"button"in e&&1===e.button},675973:function(e,t,n){n.d(t,{Z:()=>r});var a=n(15667);let r=()=>(0,a.Ts)().experimentsClient},355363:function(e,t,n){n.d(t,{Z:()=>s});var a=n(803301),r=n(667294),i=n(392824),o=n(754545),l=n(573746);function s({children:e,isAtEndOfFeed:t,pinData:n,itemCount:s,includeBackgroundImages:d=!1,includeVideos:c=!1,includeSections:u=!1,isPlaceholderGrid:_,stopwatchSetVisuallyCompleteResult:p,stopwatchContext:f}){let{isAuthenticated:m}=(0,l.bC)();m||(u=!0),(0,a.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:d,includeVideos:c,includeSections:u,isPlaceholderGrid:_,stopwatchSetVisuallyCompleteResult:p,stopwatchContext:f});let h=(0,r.useRef)(null),g=(0,o.P9)();return(0,r.useEffect)(()=>{s!==h.current&&(h.current=s,g&&(0,i.ZP)(i.at))},[g,s]),e}},579358:function(e,t,n){n.d(t,{F9:()=>d,LM:()=>s,VZ:()=>i,cQ:()=>c,rZ:()=>o});var a=n(210811),r=n(901360);let i=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,o=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,l=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;let t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},s=()=>document.querySelector?document.querySelectorAll(a.wc).length:((0,r.H)("missing_document_query_selector"),0),d=()=>{let e=(()=>{if(!document.querySelector)return(0,r.H)("missing_document_query_selector"),null;let e=document.querySelectorAll(a.wc);return e[e.length-1]||null})();if(!e)return!1;let t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},c=(e,t,n)=>{if(!document.querySelector)return(0,r.H)("missing_document_query_selector"),[];let i={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},s=[a.Wf,...e?[a.fF]:[],...t?[a.$N]:[]].join(","),d=[...document.querySelectorAll(s)];if(n){let e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{let n=[...e.children];!n.length&&e.style.backgroundImage?d.push(e):n.length&&n.forEach(e=>{t(e)})};e.forEach(e=>{t(e)})}return d.reduce((e,n)=>{if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&((e,t)=>{let n=o(e);if(!n)return(0,r.H)("missing_client_rect"),!1;if(n.width<70&&n.height<70){if(e instanceof HTMLImageElement)return!1;let t=l(e);if(t?.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:n,pageYOffset:a})=>{let r=e+a;if(r>=n)return!1;let i=Math.min(t,n-r);return i>.5*t||i>.2*n})(n,t)})(n,i)){let t=l(n);if(t){let a=(t||"").replace(/.*\//,"");return e.concat([{element:n,fileName:a}])}}return e},[])}},210811:function(e,t,n){n.d(t,{$N:()=>s,Kb:()=>a,Wf:()=>o,fF:()=>l,wc:()=>i});let a="pwt-grid-item",r=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${a}"]`],i=r.join(","),o=r.map(e=>`${e} img`).join(","),l=r.map(e=>`${e} div[style*=background-image]`).join(","),s=r.map(e=>`${e} video`).join(",")},803301:function(e,t,n){n.d(t,{Z:()=>f,v:()=>p});var a=n(667294),r=n(592109),i=n(579358),o=n(901360),l=n(392824),s=n(293169),d=n(754545),c=n(956077),u=n(603316);let _=(0,r.XV)("GridProfiler"),p=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,i.VZ)();function f({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:p=!1,includeSections:f,isPlaceholderGrid:m,stopwatchSetVisuallyCompleteResult:h,stopwatchContext:g}){let v=(0,d.P9)(),[b,y]=(0,a.useState)({status:"DISABLED"});(0,a.useEffect)(()=>{y({status:"LAYOUT",failedCount:0,numOfItemsChecked:0})},[v]),(0,a.useEffect)(()=>{if(_("new status",b),"LAYOUT"===b.status){let e=((e,t)=>{let n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)})("scroll",()=>{(0,l.ZP)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[b.status]),((e,t)=>{let n=(0,a.useRef)(()=>{});(0,a.useEffect)(()=>{n.current=e},[e]),(0,a.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>n.current(),t);return()=>clearInterval(e)},[t])})(()=>{let a=(0,d.Ly)(),l=()=>{},v=e=>{(0,d.JG)(e),g&&g?.abort()};"unknown"!==a?l=c.rt:(a=`${g?.name}`,g?.addBinaryAnnotation&&(l=g?.addBinaryAnnotation));let E=(0,i.cQ)(n,p,f);if(m)return void _("bypassing PWT run due to skeleton pin grid");switch(b.status){case"LAYOUT":{let t=((e,t)=>{if(!t){let t=(0,i.LM)();if(t===e)return _("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,i.F9)())return _("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}})(b.numOfItemsChecked,e);t.complete?y({status:"TIMING",failedCount:0,pinElements:E}):500*b.failedCount>6e4?((0,o.A9)(`images.${a}.visuallyComplete.maxLayoutAttempt`),v("visuallyComplete_layoutTimeout"),y({status:"DISABLED"})):y({...b,failedCount:b.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,s.Cg)(),n=b.pinElements.length,i=[],c=0,p=0,f=0,m=1/0,g=0;if(b.pinElements.forEach(({element:t,fileName:n})=>{let o=e.find(e=>e.name.endsWith(n));o?o.responseEnd?(i.push(o),(0,r.v5)(t,"green"),"SEARCH_FEED_RENDER"===a&&(m=Math.min(m,o.requestStart),g=Math.max(g,o.responseEnd))):(f+=1,(0,r.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(p+=1,(0,r.v5)(t,"red")):(c+=1,(0,r.v5)(t,"greenyellow"))}),c||f)100*b.failedCount>6e4?((0,o.A9)(`images.${a}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:c,noTimingCount:p,noTimingResponseEndCount:f}}),v("visuallyComplete_timingTimeout"),y({status:"DISABLED"})):y({...b,failedCount:b.failedCount+1});else{if(_(`All ${i.length} images are fetched`),t&&t.length){var w,x;let e,n,r,i,s,c=(w=t,x=b.pinElements,e=0,n=0,r=0,i=0,s=0,w=w.filter(e=>"pin"===e.type),x.forEach((t,a)=>{let o,l=t.fileName.split(".")[0];o=w[a],l!==o?.image_signature&&(o=w.find(e=>l===e?.image_signature)),void 0===o?s+=1:o.is_promoted||o.recommendation_reason?.reason==="PROMOTED_PIN"||o?.promoter?.length?r+=1:null!==o.story_pin_data_id&&void 0!==o.story_pin_data_id?e+=1:o?.videos?.video_list?n+=1:i+=1}),{storyPinCount:e,videoCount:n,adCount:r,imageCount:i,unknownCount:s});if(Object.entries(c).forEach(([e,t])=>{l(e,t,"I16"),(0,d.XJ)(e,t,"I16")}),(0,o.A9)(`${a}.pinTypes`,{tags:c}),"SEARCH_FEED_RENDER"===a){let e=g-m;t[0].display_options?.num_columns_requested===0?(0,u.LY)("full_width_story_image_fetch_time_true",e,{sampleRate:1}):(0,u.LY)("full_width_story_image_fetch_time_false",e,{sampleRate:.05})}}(({imageTimings:e})=>{h&&h(),(0,d.cB)(e)})({imageTimings:i}),y({status:"DISABLED"}),(0,o.A9)(`images.${a}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:p}})}}}},"LAYOUT"===b.status&&500||"TIMING"===b.status&&100||null)}},942230:function(e,t,n){n.d(t,{Z:()=>a});let a=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},30880:function(e,t,n){n.d(t,{Z:()=>o});var a=n(32259);let r=null;function i(e){(0,a.El)({eventName:`perf.not_supported.${e}`})}function o(){if(r)return r;try{if(!window.performance||!performance)return i("window_performance"),r=!1,!1;if(!window.PerformanceObserver||!PerformanceObserver)return i("window_PerformanceObserver"),r=!1,!1;if(!PerformanceObserver.supportedEntryTypes)return i("window_PerformanceObserver_supportedEntryTypes"),r=!1,!1;if(!PerformanceObserver.supportedEntryTypes.includes("mark"))return i("window_PerformanceObserver_supportedEntryTypes_mark"),r=!1,!1;r=["mark","measure","now","setResourceTimingBufferSize"].reduce((e,t)=>(window.performance[t]&&performance[t]||(i(`window_performance_${t}`),e=!1),e),!0)}catch(e){(0,a.jn)({errorName:e})}return r}},754545:function(e,t,n){let a,r,i;n.d(t,{Eq:()=>k,yh:()=>N,XJ:()=>D,Lg:()=>M,cB:()=>U,Ly:()=>L,JG:()=>B,P9:()=>j,ZP:()=>V,ep:()=>z,$e:()=>F});var o=n(392824),l=n(703393),s=n(735201),d=n(868178),c=n(286036),u=n(573746);let _=!1;function p(){if(_)return;let e=window.innerHeight,t=window.innerWidth,n=()=>{let a=(0,u.bC)(),r=Math.abs(window.innerHeight-e),i=window.innerHeight!==e,o=window.innerWidth!==t;if("phone"===a.deviceType&&(!o&&i&&r<=150||!i&&!o)||"desktop"===a.deviceType&&!i&&!o){window.removeEventListener("resize",n),_=!1;return}B("windowResized"),window.removeEventListener("resize",n),_=!1};window.addEventListener("resize",n),_=!0}var f=n(30880);let m=[{handler:"sterling/advertiser/[advertiserId]/audiences.js",config:{dWeb:{auth:{clientNavigation:{name:"STERLING_AUDIENCES_PAGE_USER_NAV",id:224,constraints:["NavigationCompletev4","audiencesTableRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/edit.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSEDIT_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","editFlowRendered"]},clientNavigation:{name:"STERLING_EDIT_FLOW_USER_NAV",id:225,constraints:["NavigationCompletev4","editFlowRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/create.js","sterling/advertiser/[advertiserId]/ads/duplicate.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSCREATE_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","createFlowRendered"]},clientNavigation:{name:"STERLING_ADSCREATE_USER_NAV",id:233,constraints:["NavigationCompletev4","createFlowRendered"]}}}}},{handler:"sterling/advertiser/[advertiserId]/reporting/[entityType].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_DETAILS_PAGELOAD",id:218,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]},clientNavigation:{name:"STERLING_REPORTING_DETAILS_USER_NAV",id:227,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]}}}}},{handler:"sterling/advertiser/[advertiserId].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_OVERVIEW_PAGELOAD",id:219,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]},clientNavigation:{name:"STERLING_REPORTING_OVERVIEW_USER_NAV",id:226,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/bulk_editor/[page].js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_BULKEDITOR_HISTORY_PAGELOAD",id:231,constraints:["NavigationCompletev4","bulkHistoryRendered"]},clientNavigation:{name:"STERLING_BULKEDITOR_HISTORY_USER_NAV",id:232,constraints:["NavigationCompletev4","bulkHistoryRendered"]}}}}}],h=[{handler:["www/pin/[id]/sent.js","www/pin/[id].js"],config:{mWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["NavigationCompletev4","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page"]},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["NavigationCompletev4","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page","closeup_dweb_side_by_side_redesign_fast_follow"]}}},dWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["NavigationCompletev4","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["NavigationCompletev4","image","resource","button"],segments:{product_detail_page:"PRODUCT_DETAILS_INTERACTIVE",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_INTERACTIVE"}},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["NavigationCompletev4","button","video","description","shopButton","thumbnailsLoaded","image","resource"],segments:{story_pin:"STORY_PIN_CLOSEUP",product_detail_page:"PRODUCT_DETAILS_RENDER",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_RENDER"}}}}}},{handler:["www/index.js","www/homefeed.js"],config:{unified:{auth:{initialPageLoad:{name:"HOME_FEED_PINTERACTIVE",id:19,constraints:["NavigationCompletev4","VisuallyComplete"],annotateExperiments:["web_sw_with_early_hydration","web_install_sw_on_unauth_landing"]},clientNavigation:{name:"HOME_FEED_RENDER",id:2,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/search/[scope].js",config:{unified:{auth:{clientNavigation:{name:"SEARCH_FEED_RENDER",id:3,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/search.js",config:{mWeb:{auth:{clientNavigation:{name:"SEARCH_TAB_RENDER",id:25,constraints:["NavigationCompletev4","RenderSearchLandingPageBubbles"]}}}}},{handler:"www/[username]/[slug].js",config:{unified:{unauth:{initialPageLoad:{name:"BOARD_PAGE_INTERACTIVE",id:114,constraints:["NavigationCompletev4","VisuallyComplete"]}},auth:{initialPageLoad:{name:"initial_app_load_auth_board",id:null,constraints:["NavigationCompletev4","VisuallyComplete"]},clientNavigation:{name:"client_route_push_auth_board",id:null,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/for-you/[boardId].js",config:{unified:{auth:{initialPageLoad:{name:"AUTOMAGICAL_BOARD_PAGE_INTERACTIVE",id:129,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/ideas/[interest]/[id].js",config:{unified:{unauth:{initialPageLoad:{name:"TOPIC_PAGE_INTERACTIVE",id:119,constraints:["NavigationCompletev4","idea_module_loaded"]}}}}},{handler:"www/business/hub.js",config:{dWeb:{auth:{initialPageLoad:{name:"BIZHUB_PINTERACTIVE",id:607,constraints:["NavigationCompletev4"]},clientNavigation:{name:"BIZHUB_PAGE_RENDER",id:608,constraints:["NavigationCompletev4"]}}}}},{handler:"www/pin/[id]/visual-search.js",config:{dWeb:{auth:{clientNavigation:{name:"VISUAL_SEARCH_PAGE_RENDER",id:44,constraints:["NavigationCompletev4","VisuallyComplete","visualSearchMainPinImageRender"]}}}}},{handler:["www/[username].js","www/[username]/_boards.js","www/[username]/_created.js","www/[username]/_saved.js","www/[username]/_pins.js","www/[username]/_profile.js"],config:{unified:{auth:{initialPageLoad:{name:"OTHER_PROFILE_PAGE_LOAD",id:122,constraints:["NavigationCompletev4","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE_PAGE_LOAD",other_profile_no_pins:"OTHER_PROFILE_NO_PINS_PAGE_LOAD",own_profile_no_pins:"OWN_PROFILE_NO_PINS_PAGE_LOAD",own_profile:"OWN_PROFILE_PAGE_LOAD"}},clientNavigation:{name:"OTHER_PROFILE",id:15,constraints:["NavigationCompletev4","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE",own_profile:"OWN_PROFILE",own_profile_no_pins:"OWN_PROFILE_NO_PINS",other_profile_no_pins:"OTHER_PROFILE_NO_PINS"}}},unauth:{initialPageLoad:{name:"USER_PAGE_INTERACTIVE",id:115,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/business/catalogs/[catalog_id]/data-sources.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_DATA_SOURCES_USER_NAV",id:228,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/product-groups.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_PRODUCT_GROUPS_USER_NAV",id:229,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/listings.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/products.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/collage-creation-tool.js",config:{dWeb:{auth:{initialPageLoad:{name:"COLLAGE_CREATION_PAGE_LOAD",id:130,constraints:["NavigationCompletev4","VisuallyComplete"]},clientNavigation:{name:"COLLAGE_CREATION_USER_NAV",id:53,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}}];var g=n(32259),v=n(112114);let b=[...h,...m];function y({isAuthenticated:e,isInitialPageLoad:t,isMobile:n}){let a=(0,v.H)(),r=b.find(e=>Array.isArray(e.handler)?e.handler.includes(a):a===e.handler),i=r?.config,o=i?.unified;if(o||(o=n?i?.mWeb:i?.dWeb),o){let n=e?o.auth:o.unauth;if(n){if(t&&n.initialPageLoad)return(0,g.qu)("Found isInitialPageLoad config"),(0,g.qu)(n.initialPageLoad),{...n.initialPageLoad};else if(!t&&n.clientNavigation)return(0,g.qu)("Found clientNavigation config"),(0,g.qu)(n.clientNavigation),{...n.clientNavigation}}}return(0,g.qu)(`No config found for ${a} :(`),null}var E=n(956077);let w={},x=[],S=[],P={},T={},I=[],A=0,C=0,R=[],O=["webpack_react_profiler","web_early_hydration","web_ngjs_related_modules_response_remove_nulls","web_ngjs_homefeed_response_remove_nulls","web_ngjs_search_response_remove_nulls","ap_dweb_res_user_simplified_grid_overflow_menu_entrypoint","www_isolated_build"];function N(e){e&&B(e),(0,g.qu)("Reset PWT configs"),w={},x=[],S=[],P={},T={},I=[],a=null,A=0,C=0,i="",R=[]}function k(){return a?C:0}function L(){return a?a.name:"unknown"}function j(){return a?C:null}function D(e,t,n){let a;if((0,f.Z)()){switch(n){case"BOOL":a={type:"BOOL",value:"boolean"==typeof t?t:null};break;case"STRING":a={type:"STRING",value:"string"==typeof t?t:null};break;case"I16":case"I32":case"I64":a={type:n,value:"number"==typeof t?t:null};break;default:(0,g.qu)("Invalid binary annotation type");return}if(null===a.value)return void(0,g.qu)("Invalid binary annotation value");T={...T,[e]:a},(0,g.qu)(`Add binary annotation: { ${e}: ${a.value} }`)}}function F(e){if((0,f.Z)())if(a){let t=S.indexOf(e);if(t>-1){if(S.splice(t,1),(0,g.qu)(`Remove constraint: ${e}. Remaining constraints: [${S.join(", ")}]`),0===S.length){let e=A-C,t=[...O,...a.annotateExperiments||[]];(0,g.fv)({pwtName:a.name,annotateExperiments:t}),(0,g.$v)({eventName:a.name,value:e}),(0,g.$v)({eventName:"complete",value:e,tags:{handler:(0,v.H)()}});let n=(0,u.bC)(),s={type:"surface",surface:a.name,id:a.id,navigationType:r,isAuthenticated:n.isAuthenticated};(0,o.L8)(`Report_PWT_Complete_${a.name}`,C,A);let c=(0,l.W)({annotateExperiments:t,annotations:{},binaryAnnotations:T,constraintMap:P,endTime:A,imageTimings:I,isV4Logger:!0,metricId:s,pwtStaticContext:n,startTime:C,traceId:i,spans:[]});(0,g.qu)(`All constraints complete. ${a.name} PWT completed at ${Math.floor(A)}ms. PWT duration: ${Math.floor(e)}ms`),(0,g.qu)("Result:",c),(0,d.Z)({metricId:s,pwtStaticContext:n,result:c,isV4Logger:!0,annotateExperiments:t}),N()}}else(0,g.jn)({errorName:"constraint_completed_not_in_PWT_constraint_list",pwtName:a.name,errorDetailsTag:e})}else(0,g.jn)({errorName:"remove_constraint_while_no_PWT_in_progress",errorDetailsTag:e}),x.push(e)}function Z(e,t){if((0,f.Z)())if(a){let n=S.indexOf(e);n>-1&&(A<t&&(A=t),P[e]=t,(0,g.eR)(S[n],a?.name),(0,g.$v)({eventName:`${a?.name}.constraint.${e}`,value:t}),(0,g.$v)({eventName:`constraint.${e}`,value:t,tags:{handler:(0,v.H)()}}),(0,g.qu)(`Complete constraint: ${e} at ${Math.floor(t)}ms`),F(e))}else w[e]||(w[e]=t)}function B(e){if((0,f.Z)()&&a){let t=[...O,...a.annotateExperiments||[]];(0,g.T0)({abortReason:e,pwtName:a.name,annotateExperiments:t}),S.forEach(e=>{(0,g.yi)(e,a?.name)});let n=(0,u.bC)(),o={type:"surface",surface:a.name,id:a.id,navigationType:r,isAuthenticated:n.isAuthenticated},s=(0,l.N)({reason:e,annotateExperiments:t,annotations:{},binaryAnnotations:T,constraintMap:P,endTime:performance.now(),imageTimings:I,isV4Logger:!0,metricId:o,pwtStaticContext:n,startTime:C,traceId:i,spans:[]});(0,g.qu)(`Abort ${a.name} PWT. Abort reason: ${e}`),(0,g.qu)("Result:",s),(0,d.Z)({metricId:o,pwtStaticContext:n,result:s,isV4Logger:!0,annotateExperiments:t}),N()}}function U(e){if((0,f.Z)()&&a&&S.includes("VisuallyComplete"))if((0,g.qu)("Set visually complete result"),(0,g.qu)("Image resource timings: ",e),0===(I=e).length)B("visuallyComplete_noImages");else{let e=Math.max(...I.map(e=>e.responseEnd||0));(0,E.Nx)("VisuallyComplete",e)}}function M(e){if((0,f.Z)())if(a&&a.name.toLowerCase()!==e.toLowerCase()){let t=[...O,...a.annotateExperiments||[]],{isAuthenticated:n,deviceType:i}=(0,u.bC)(),o=(({isAuthenticated:e,isInitialPageLoad:t,isMobile:n,segment:a})=>{let r=y({isAuthenticated:e,isInitialPageLoad:t,isMobile:n});return r?.segments?.[a]??null})({isAuthenticated:n,isInitialPageLoad:"initial_app_load"===r,isMobile:"phone"===i,segment:e});if(!o)return void(0,g.jn)({errorName:"segment_action_name_not_found",errorDetailsTag:e});(0,g.T0)({abortReason:"segmentChange",pwtName:a.name,annotateExperiments:t}),a.name=o,(0,g.qu)(`Set segment to ${e}. PWT action name: ${o}`),(0,g.sd)({pwtName:a.name,annotateExperiments:[...O,...a.annotateExperiments||[]]})}else(0,g.jn)({errorName:"set_segment_while_no_PWT_in_progress",errorDetailsTag:e})}function z(e,t,n){if((0,f.Z)())if(a&&B("routeChange"),"POP"===e&&!1===n);else{p();let{isAuthenticated:o,deviceType:l,serverData:d}=(0,u.bC)();if(a=y({isAuthenticated:o,isInitialPageLoad:n,isMobile:"phone"===l})){if(C=t,n)r="initial_app_load";else switch(e){case"PUSH":r="client_route_push";break;case"REPLACE":r="client_route_replace"}(0,g.sd)({pwtName:a.name,annotateExperiments:[...O,...a.annotateExperiments||[]]}),(0,g.qu)(`Start ${a.name} PWT`),a?.constraints.forEach(e=>{(0,f.Z)()&&(a?((0,g.DM)(e,a.name),S.includes(e)||(S.push(e),(0,g.qu)(`Add constraint: ${e}`))):(0,g.jn)({errorName:"add_constraint_while_no_PWT_in_progress",errorDetailsTag:e}))}),S.forEach(e=>{w[e]?Z(e,w[e]):x.includes(e)&&F(e)}),i=(0,s.vc)()||(0,s.ZP)("initial_app_load"===r,d?.trace_id)}}}function V({traceLoggerData:e}){try{if((0,u._A)({serverData:e}),!(0,f.Z)())return void(0,g.El)({eventName:"unsupportedPWTBrowser"});(0,g.El)({eventName:"supportedPWTBrowser"}),p(),c.Z.onSessionPause(B);let t=new PerformanceObserver(e=>{e&&e.getEntries&&e.getEntries().forEach(e=>{e&&e.name&&!e.name.startsWith("--")&&e.name.includes("complete_constraint__")&&Z(e.name.split("complete_constraint__")[1]||"",e.startTime)})});t.observe&&t.observe({type:"mark",buffered:!0});let n=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{let{rtt:t}=window.navigator.connection||{};if(t&&"number"==typeof t){let n=e.responseEnd-t/2;n>0&&(0,o.ZP)("client_chunkEndTime",n)}(0,o.L8)("dom_complete",e.startTime,e.domComplete),(0,o.L8)("dom_interactive",e.startTime,e.domInteractive),(0,o.L8)("dom_content_loaded_event_end",e.startTime,e.domContentLoadedEventEnd),(0,o.L8)("load_event_end",e.startTime,e.loadEventEnd),(0,o.L8)("response_start",e.startTime,e.responseStart),(0,o.L8)("response_duration",e.responseStart,e.responseEnd)})});n.observe&&n.observe({type:"navigation",buffered:!0});let a=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{e.identifier.includes("MainPinImage")&&!R.includes(e.identifier)&&R.push(e.identifier)})});a.observe({type:"element",buffered:!0}),window.addEventListener("beforeunload",()=>{t.disconnect(),n.disconnect(),a.disconnect()})}catch(e){(0,g.jn)({errorName:e})}}},956077:function(e,t,n){n.d(t,{Nx:()=>l,Yl:()=>c,l7:()=>d,qS:()=>u,rt:()=>_,sX:()=>s});var a=n(667294),r=n(392824),i=n(30880),o=n(754545);let l=(e,t)=>{(0,i.Z)()&&(t?performance.mark(`complete_constraint__${e}`,{startTime:t}):performance.mark(`complete_constraint__${e}`),(0,r.L8)(`constraint__${e}`,(0,o.Eq)(),t??performance.now()))},s=e=>{(0,o.JG)(e)},d=e=>{(0,o.$e)(e)},c=e=>{(0,o.Lg)(e)},u=e=>{(0,a.useEffect)(()=>{(0,o.Lg)(e)},[e])},_=(e,t,n)=>{(0,o.XJ)(e,t,n)}},594414:function(e,t,n){n.d(t,{A:()=>l,Z:()=>s});var a=n(281098),r=n(667294),i=n(20256),o=n(785893);let l=({fill:e})=>{(0,r.useEffect)(()=>{(0,a.Z)("RatingStars","/app/packages/recipe-star-components/RatingStars.tsx")},[]);let t="half"===e?(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(i.xu,{position:"absolute",children:(0,o.jsx)(i.JO,{accessibilityLabel:"","aria-hidden":!0,color:"default",icon:"star-half",size:15})}),(0,o.jsx)(i.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:15})]}):(0,o.jsx)(i.JO,{accessibilityLabel:"","aria-hidden":!0,color:"full"===e?"default":"subtle",icon:"star",size:15});return(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},"data-test-id":`rating-star-${e}`,display:"inlineBlock",children:t})};function s({max_rating:e,rating:t,display:n}){var s;if((0,r.useEffect)(()=>{(0,a.Z)("RatingStars","/app/packages/recipe-star-components/RatingStars.tsx")},[]),!t)return null;let d=[],c=parseFloat(e||"5"),u=5*(s=(s=parseFloat(t)||0)<=c?s:c)/c;if(Number.isNaN(u))return null;let _=Math.floor(u),p=u-_;return[...Array(_).keys()].forEach(e=>d.push((0,o.jsx)(l,{fill:"full"},e))),p>=.75?d.push((0,o.jsx)(l,{fill:"full"},d.length)):p>=.25&&d.push((0,o.jsx)(l,{fill:"half"},d.length)),[...Array(5-d.length).keys()].forEach(()=>d.push((0,o.jsx)(l,{fill:"empty"},d.length))),(0,o.jsx)(i.xu,{"aria-label":`Rating ${String(u)} stars out of 5`,"data-test-id":"rating-stars",display:n?"flex":"inlineBlock",position:"relative",role:"img",width:18*c,children:d})}},15667:function(e,t,n){n.d(t,{B:()=>i,P2:()=>l,Ts:()=>r,gf:()=>o});let a=n(146663),{getRequestContext:r}=a,{useRequestContext:i}=a,{useUpdateRequestContext:o}=a,{RequestContextProvider:l}=a},146663:function(e,t,n){n.r(t),n.d(t,{RequestContextProvider:()=>d,getRequestContext:()=>s,useRequestContext:()=>c,useUpdateRequestContext:()=>u});var a=n(667294),r=n(324529),i=n(734215),o=n(785893);let l=(0,a.createContext)(null);function s(){return(0,a.use)(l).requestContextState}function d({children:e,initialValue:t}){let[n,s]=(0,a.useState)(t),d=(0,a.useMemo)(()=>({requestContextState:n,updateRequestContext:e=>{let t={...n,...e};(0,i.Z)(n,e)||s(t),(0,r.J)(t)}}),[n]);return(0,o.jsx)(l,{value:d,children:e})}function c(){let e=(0,a.useContext)(l);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContextState}function u(){let e=(0,a.useContext)(l);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},900675:function(e,t,n){n.d(t,{Z:()=>l});var a=n(667294),r=n(581722),i=n(849233),o=n(707079);function l(e){let{name:t,optionsKey:n}=e,l=t===i.fY,s=(0,o.MA)(),d=s?.get(t,n);if(d)throw d;let c=e=>e[t]?.[n],u=(0,r.v9)(({resources:e})=>c(e)?.nextBookmark),_=(0,r.v9)(({resources:e})=>c(e)?.data),p=(0,r.v9)(({resources:e})=>c(e)?.auxData),f=(0,r.v9)(({resources:e})=>c(e)?.error),m=(0,a.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(l)return m.current;let h={auxData:p,data:_,error:f,isAtEnd:u===i.qx,nextBookmark:u};return(h.auxData!==m.current.auxData||h.data!==m.current.data||h.error!==m.current.error||h.isAtEnd!==m.current.isAtEnd||h.nextBookmark!==m.current.nextBookmark)&&(m.current=h),m.current}},444185:function(e,t,n){n.d(t,{Z:()=>i});var a=n(849233),r=n(943257);function i(e){let{enabledRouteRefresh:t,headers:n,name:i,noCache:o,options:l,schema:s}=e??{name:a.fY,options:null},d=!e,{fetchResource:c,ref:u,fetchMore:_,isFetching:p,isLoaded:f,isRefreshing:m,refresh:h}=(0,r.Z)({enabledRouteRefresh:t,headers:n,name:i,noCache:o,options:l,schema:s},d,!1);return d||c(),{ref:u,fetchMore:_,isFetching:p,isLoaded:f,isRefreshing:m,refresh:h}}},782259:function(e,t,n){n.d(t,{Z:()=>s});var a=n(281098),r=n(667294),i=n(64834);function o({children:e}){if("undefined"==typeof window)throw Error(i.u);return e}var l=n(785893);function s({children:e,fallback:t}){return(0,r.useEffect)(()=>{(0,a.Z)("SafeSuspense","/app/packages/safe-suspense/SafeSuspense.tsx")},[]),(0,l.jsx)(r.Suspense,{fallback:t,children:(0,l.jsx)(o,{children:e})})}},821806:function(e,t,n){n.d(t,{Z:()=>a});let a=n(782259).Z},940280:function(e,t,n){n.d(t,{i:()=>a});let a={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",CONTENT_TYPE_FILTER:"content_type_filter",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IDEAS_ROOT:"ideas_root",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SHOPPING_FILTER:"shopping_filter",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",URECS:"urecs",VANILLA_GUIDE:"guide",VIDEO:"video",VOICE_SEARCH:"voice_search"}},734215:function(e,t,n){function a(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let n=Object.keys(e),a=Object.keys(t);return n.length===a.length&&n.every(n=>e[n]===t[n])}n.d(t,{Z:()=>a})},929915:function(e,t,n){n.d(t,{l:()=>i,r:()=>o});var a=n(667294);let r=(0,a.createContext)(null),i=()=>(0,a.useContext)(r),o=r},607001:function(e,t,n){n.d(t,{Z:()=>i});var a=n(417162),r=n(929915);let i=()=>{let e=(0,a.g)(),t=(0,r.l)();return n=>{let{mobileOptions:a,desktopOptions:r,reason:i,attributionLabel:o,pinId:l,savePinImageUrl:s}=n;e?e.showDesktopSignupModal({signupFlow:r?.modalType==="login"?{type:"login"}:{type:"signup"},reason:i,attributionLabel:o,savePinId:l,savePinImageUrl:s,...r?.modalOptions}):t&&t.showMobileSignupModal({reason:i,attributionLabel:o,headingType:a?.headingType??"none",pinId:l,savePinImageUrl:s})}}},2761:function(e,t,n){function a(e){return e.toLowerCase().charAt(0).toUpperCase()+e.toLowerCase().slice(1)}n.d(t,{Z:()=>a})},324307:function(e,t,n){n.d(t,{ZP:()=>a});function a(e,t=80,n="…",r=!1){let i;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||r)i=e.substring(0,t);else{let n=e.lastIndexOf(" ",t);i=e.substring(0,n)}return(i=i.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+n}},134475:function(e,t,n){n.d(t,{U:()=>l,Z:()=>s});var a=n(281098),r=n(667294),i=n(20256),o=n(785893);let l=", ";function s(){return(0,r.useEffect)(()=>{(0,a.Z)("A11yPause","/app/packages/ui/A11yPause.tsx")},[]),(0,o.jsx)(i.xu,{display:"visuallyHidden",children:l})}},734263:function(e,t,n){n.d(t,{Z:()=>l});var a=n(281098),r=n(667294),i=n(20256),o=n(785893);function l({ariaHidden:e=!1,color:t,size:n}){return(0,r.useEffect)(()=>{(0,a.Z)("Dot","/app/packages/ui/Dot.tsx")},[]),(0,o.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,o.jsx)(i.xv,{color:t,inline:!0,size:n??"200",children:"·"})})}},938287:function(e,t,n){n.d(t,{Z:()=>r});var a=n(510928);let r=({url:e})=>{if(e){let t=e.split("?");if(t[1])return(0,a.Z)(t[1])}return(0,a.Z)()}},576087:function(e,t,n){n.d(t,{Z:()=>r});var a=n(869273);let r=({url:e})=>{let t=(0,a.Z)("/");return 0===e.lastIndexOf(t,0)?e.substr(t.length-1):e}},634737:function(e,t,n){function a(e){if((e||"").includes("--")){let t=e.split("--"),n=t.pop();return{text:t.join("--"),pinId:n}}return{text:"",pinId:e}}n.d(t,{Z:()=>a})},341742:function(e,t,n){n.d(t,{Z:()=>r});var a=n(667294);let r=e=>{(0,a.useEffect)(e,[])}},424150:function(e,t,n){n.d(t,{GW:()=>r,RL:()=>a,s4:()=>i});let a="ios",r="android",i="ipad"},792171:function(e,t,n){n.d(t,{H:()=>d,W:()=>c});var a=n(667294),r=n(980787),i=n(729434),o=n(675973),l=n(785893);let{Provider:s,get:d}=(0,i.Z)("VideoPlayer");function c({children:e}){let{logContextEvent:t,logImpression:n}=(0,r.u)(),{checkExperiment:i}=(0,o.Z)(),[d,c]=(0,a.useState)(!1),[u,_]=(0,a.useState)([]),[p,f]=(0,a.useState)([]),[m,h]=(0,a.useState)({}),g=i("web_ads_mrc_video_impression").anyEnabled,v=e=>{h(t=>({...t,[e]:!0}))},b=(0,a.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],n=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");g&&(t||n)&&_(t=>[...t,e].slice(-1e3))}},[g]),y=(0,a.useCallback)(e=>{18===e.eventType&&g&&f(t=>[...t,e].slice(-1e3))},[g]);(0,a.useEffect)(()=>{let e=u.filter(e=>{let{pinIdStr:n}=e.event_data.pinImpressions[0];return!m[n]||!g||(t((e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}})(e)),!1)});e.length!==u.length&&_(e)},[u,g,t,m]),(0,a.useEffect)(()=>{let e=p.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(m[t]&&g){let t=(e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null})(e);return t&&n(t),!1}return!0});e.length!==p.length&&f(e)},[p,g,n,m]);let E=(0,a.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:y,logMrcVideoAdEventOnPlay:b,setCaptionsEnabled:c,setVideoPlayed:v,videosPlayed:m}),[d,b,y,m]);return(0,l.jsx)(s,{value:E,children:e})}},239728:function(e,t,n){n.d(t,{$f:()=>r,Cy:()=>s,DR:()=>a,Fm:()=>l,bR:()=>o,gJ:()=>i,lG:()=>d});let a=1,r=2,i=1e3,o=1e3,l=1e3,s=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),d=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},144633:function(e,t,n){function a(e){let t;switch(e){case 1:t=1;break;case 2:t=2;break;case 3:t=3;break;case 4:t=4;break;case 5:t=5;break;case 6:t=6;break;case 9:t=9}return t}n.d(t,{Z:()=>a})},821651:function(e,t,n){n.d(t,{r:()=>g,W:()=>h});var a=n(667294),r=n(729434),i=n(821342),o=n(886981),l=n(295317),s=n(121836),d=n(238589),c=n(974705);let u=e=>{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,c.Z)(n)]=e[n]:t[(0,c.Z)(n)]=u(e[n]));return t},_={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},p=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}};var f=n(785893);let{Provider:m,getMaybe:h}=(0,r.Z)("RoleBasedAccessControlContext"),g=({children:e})=>{let t=(0,i.Z)(),n=!!(t.isAuth&&t.isPartner),{state:r,actions:c,receiveProfiles:h}=(e=>{let[t,n]=(0,a.useReducer)(p,_),r=(({dispatch:e,isEnabled:t,state:n})=>{let{orbacVisibility:r,disableProfileChanger:i,headerVisible:o}=n,l=(0,a.useCallback)(n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})},[t,e]);return{changeProfile:l,toggleORBACVisibility:(0,a.useCallback)(n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:n??!r})},[t,e,r]),toggleDisableProfileChanger:(0,a.useCallback)(n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:n??!i})},[t,e,i]),toggleHeaderVisibility:(0,a.useCallback)(n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:n??!o})},[t,e,o])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:i,orbacVisibility:o}=t;return(0,a.useEffect)(()=>{let e=(0,d.Nl)().getItem(s.Zo)||!1;e&&n({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,a.useEffect)(()=>{let e=(0,d.Nl)().getItem(s.ig)||!1;e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,a.useEffect)(()=>{(0,d.Nl)().setItem(s.ig,o)},[o]),(0,a.useEffect)(()=>{(0,d.Nl)().setItem(s.Zo,i)},[i]),{state:t,actions:r,receiveProfiles:(0,a.useCallback)((e,t)=>{n({type:"LOAD_PROFILES",payload:((e,t)=>{let n=[];for(let a in e)a!==t&&n.push({id:a,...u(e[a])});let a=n.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),r=new Map;for(let e of a)r.set(e.id,e);return r})(e,t)})},[n])}})(n),{activeProfile:g,headerVisible:v,profiles:b}=r,y=(0,a.useMemo)(()=>b?Array.from(b.values()):[],[b]),E=(0,l.Z)(y),w=!!t.isAuth&&y.length>0&&E,x=t.isAuth?t.id:"",S=t.isAuth?t.username:"",{changeProfile:P,toggleORBACVisibility:T,toggleDisableProfileChanger:I,toggleHeaderVisibility:A}=c;(0,a.useEffect)(()=>{if(n){if("string"==typeof E)return void P(E);g||P(x)}},[E,x,n,P,g]),(0,a.useEffect)(()=>{n&&(w&&!v&&A(!0),!w&&v&&A(!1))},[A,w,n,v,b]);let{data:C}=(0,o.Z)(n?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),R=C?.profiles,O=(0,a.useMemo)(()=>t&&t.isAuth&&g===t.id?{id:t.id,permissions:["OWNER"],user:{username:S,businessName:t.fullName,imgUrl:t.imageSmallUrl}}:g&&b?b.get(g):void 0,[g,b,t,S]);(0,a.useEffect)(()=>{R&&h(R,x)},[h,R,x]);let N=(0,a.useMemo)(()=>({profiles:y,headerVisible:v,activeProfile:O,changeProfile:P,toggleORBACVisibility:T,toggleDisableProfileChanger:I,toggleHeaderVisibility:A}),[y,v,O,P,T,I,A]);return(0,f.jsx)(m,{value:N,children:e})}},448505:function(e,t,n){n.d(t,{Z:()=>s});var a=n(667294),r=n(675973),i=n(821651),o=n(295317);let l=Object.freeze({}),s=()=>{let{checkExperiment:e}=(0,r.Z)(),t=(0,i.W)(),{activeProfile:n}=t||{},s=(0,o.Z)(t?.profiles||[]),{anyEnabled:d}=e("useorbacroutematcher_in_useorbacactingas");return(0,a.useMemo)(()=>d&&!s?l:n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:l,[d,s,n])}},295317:function(e,t,n){n.d(t,{Z:()=>l});var a=n(312048),r=n(821342),i=n(506662),o=n(169053);let l=e=>{let t=(0,a.TH)(),n=(0,r.Z)(),l=(0,o.S6)(),s=(0,a.bS)("/:username"),d=(0,a.bS)("/:username/*"),c=(s||d)?.params?.username,u=(0,a.bS)("/pin/:id"),_=!!u?.params?.id&&l(u.params.id)?.pinner?.id;if((0,i.ej)(t))return!1;if((0,i.RU)(t)||(0,i.mY)(t))return!0;let p=[...e,...n.isAuth?[{user:{username:n.username},id:n.id}]:[]].find(e=>{if(!e)return!1;let{user:t,id:n}=e;return(!!t&&"username"in t&&!!t.username&&!!c||!!_&&!!n)&&(t.username===c||_===n)});return!!p&&p.id}},7872:function(e,t,n){n.d(t,{D3:()=>u,DX:()=>d,Fk:()=>a,KY:()=>_,Ms:()=>r,N1:()=>p,_P:()=>s,gJ:()=>i,lJ:()=>l,nl:()=>o,q6:()=>c});let a=(e,t)=>{let n=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(n=t.user.businessName),n},r=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},i=(e,t)=>{let n=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(n=t.user.imgUrl),n},o=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),l=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",s=(e,t,n)=>n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:e.advertiser?.merchant_id,d=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,c=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),u=(e,t,n)=>!!(c(e,t,n)||e&&e.isAuth&&t===e.id),_=(e,t,n)=>u(e,t&&t.owner&&t.owner.id||"",n);function p(e,t,n){return u(e,t?t.id:"",n)}},645435:function(e,t,n){n.d(t,{Z:()=>u});var a=n(281098),r=n(667294),i=n(20256),o=n(264251),l=n(230543),s=n(25837),d=n(819199),c=n(785893);function u({children:e,className:t,forwardRef:n,offset:u=0,position:_,shouldShowShadow:p=!1,style:f={},top:m,stickyZIndex:h}){(0,r.useEffect)(()=>{(0,a.Z)("ContentHeader","/app/www/ContentHeader/ContentHeader.tsx")},[]);let{setIsContentHeaderPresent:g}=(0,o.g)();(0,r.useEffect)(()=>(g(!0),function(){g(!1)}),[]);let{currentScrollPosition:v,isScrolled:b,setSubheaderShadow:y}=(0,d.bj)();(0,r.useEffect)(()=>(p&&y("contentHeader"),()=>{p&&y(null)}),[p]);let E=!1;"pending"!==m&&(E=null!=m?v>=m:b);let w=(0,l.t)(),x=(0,c.jsx)("div",{ref:n,className:t,style:{...f,top:w+u,...E&&p?{...s.Rz,transition:f.transition||s.Rz.transition,zIndex:499}:{},..._&&"sticky"!==_?{position:_}:{}},children:e});return"sticky"===_?(0,c.jsx)(i.Le,{top:w+u,zIndex:h||new i.Ry(1),children:x}):x}},264251:function(e,t,n){n.d(t,{Z:()=>d,g:()=>s});var a=n(281098),r=n(667294),i=n(729434),o=n(785893);let{Provider:l,get:s}=(0,i.Z)("ContentHeader");function d({children:e}){(0,r.useEffect)(()=>{(0,a.Z)("ContentHeaderContext","/app/www/ContentHeader/ContentHeaderContext.tsx")},[]);let[t,n]=(0,r.useState)(!1),i=(0,r.useMemo)(()=>({isContentHeaderPresent:t,setIsContentHeaderPresent:n}),[t]);return(0,o.jsx)(l,{value:i,children:e})}},38817:function(e,t,n){n.d(t,{Z:()=>A});var a,r=n(281098),i=n(667294);n(167912);var o=n(20256),l=n(521009),s=n(821342),d=n(28427),c=n(19585),u=n(675973),_=n(607001),p=n(941404),f=n(572227),m=n(87853),h=n(741155),g=n(334536),v=n(647709),b=n(341742),y=n(732347),E=n(352908),w=n(793698),x=n(400741),S=n(151594),P=n(785893);let T=({children:e,pulsar:t,testId:n})=>t.show?(0,P.jsx)(o.xu,{"data-test-id":n,position:"relative",children:(0,P.jsxs)(o.iP,{onTap:t.onClick,tapStyle:"none",children:[(0,P.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,P.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,P.jsx)(o.o3,{})})]})}):(0,P.jsx)(o.xu,{"data-test-id":n,children:e}),I=(void 0!==a||(a=n(980360)).hash&&"cabaa35ed7d59dee006897bf3ef32e3d"!==a.hash&&console.error("The definition of 'FollowButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function A({auxData:e,disabled:t,disableLog:n,followEventType:a,id:A,inline:C,invertColors:R,isFollowed:O,isIdeaPin:N,isLegoEnabled:k,isSecondaryButton:L,isUserFollowButton:j,isUserMe:D,onFollow:F,onUnfollow:Z,pinKey:B,shouldUseLegoColors:U,showPulsar:M,size:z,textType:V="FollowFollowing",unfollowEventType:G,viewParameter:H,viewType:K,clientTrackingParams:W}){let $;(0,i.useEffect)(()=>{(0,r.Z)("FollowButton","/app/www/FollowButton.tsx")},[]);let q=(0,c.Z)(),Y=(0,v.HG)(),{showToast:J}=(0,m.dI)(),X=(0,f.Z)(),Q=(0,l.Z)(),ee=(0,_.Z)(),{checkExperiment:et}=(0,u.Z)(),en=(0,E.Z)(),ea=(0,s.Z)(),er=ea&&ea.isAuth,{unauthFollowUserId:ei,setUnauthFollowUserId:eo}=(0,S.A)(),el=(0,w.mN)()(A),es=(0,h.Z)(),[ed,ec]=(0,i.useState)(O),eu=el&&{imageMediumUrl:el.image_medium_url,username:el.username},e_=(0,d.Z)(I,B),ep=e_?.linkDomain,ef=e_?.nativeCreator,em=e_?.originPinner,eh=e_?.pinner;$=ef||(ep?ep.officialUser:em||eh);let eg=eu??$;(0,b.Z)(()=>{!Y&&er&&ei&&A&&ei===A&&F(A)});let ev=en({fn:()=>{if(er)ed?(Z(A),ec(!1),n||Q({event_type:G,view_type:K,view_parameter:H,object_id_str:A,aux_data:e,clientTrackingParams:W})):(F(A),ec(!0),j&&J(({hideToast:e})=>{let t=eg?.username?`/${eg.username}/`:"";return(0,P.jsx)(x.Z,{handleHide:e,href:t,imageUrl:eg?.imageMediumUrl||"",text:(0,P.jsx)(o.xv,{lineClamp:4,children:q._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:A})}),n||Q({event_type:a,view_type:K,view_parameter:H,object_id_str:A,aux_data:e,clientTrackingParams:W}));else{if((0,p.NC)(ed?"press_profile_unfollow":"press_profile_follow"),X({action:"click",item:ed?"unfollow-button":"follow-button"}),et("migration_upsell_manager_redux").anyEnabled||et("migration_upsell_manager_redux_dweb").anyEnabled||et("migration_upsell_manager_redux_mweb").anyEnabled)if(Y){let e=et("pcons_dweb_contextual_follow_modal").anyEnabled;es((0,g.b9)(!!N,e))}else{let e=et("pcons_mweb_contextual_follow_modal").anyEnabled;es((0,g.Jw)(!!N,e))}else ee({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:N?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:Y&&et("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!Y&&et("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});Y||eo(A??""),(0,p.NC)("clickthrough")}},modalHeader:(0,y.N4)({i18n:q,toFollow:!ed})}),eb=!ed&&!!M,ey=()=>{if(D)return q._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===V)return ed?q._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):q._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');let e="FollowUnfollow"===V?q._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):q._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return ed?e:q._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,P.jsx)(T,{pulsar:eb?{show:!0,onClick:ev}:{show:!1},testId:D||ed?"board-unfollow-button":"board-follow-button",children:(0,P.jsx)(o.zx,{accessibilityLabel:ey(),color:U||"AddRemove"===V||!k&&L||R?"gray":"red",disabled:D||t,fullWidth:C,onClick:eb?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),n||Q({event_type:101,component:13672,element:11951,object_id_str:A,view_type:K,view_parameter:H,aux_data:e,clientTrackingParams:W}),ev()},selected:ed||!1,size:z,text:ey()})})}},984126:function(e,t,n){n.d(t,{Z:()=>s});var a=n(281098),r=n(667294),i=n(20256),o=n(19585),l=n(785893);let s=({isInModal:e})=>{(0,r.useEffect)(()=>{(0,a.Z)("FullPageSpinner","/app/www/FullPageSpinner.tsx")},[]);let t=(0,o.Z)();return(0,l.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new i.Ry(1),children:(0,l.jsx)(i.xH,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},230543:function(e,t,n){n.d(t,{c:()=>r,t:()=>i});var a=n(598849);function r({children:e}){let{height:t}=(0,a.Z)();return e(t)}function i(){let{height:e}=(0,a.Z)();return e}},819199:function(e,t,n){n.d(t,{Hv:()=>d,bj:()=>s});var a=n(667294),r=n(729434),i=n(289032),o=n(785893);let{Provider:l,get:s}=(0,r.Z)("HeaderShadow");function d({children:e}){let[t,n]=(0,a.useState)(!1),[r,s]=(0,a.useState)(0),[d,c]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=(0,i.Z)(()=>{n(window.scrollY>0),s(window.scrollY)},50);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]);let u=(0,a.useMemo)(()=>({currentScrollPosition:r,isScrolled:t,setSubheaderShadow:c,subheaderShadow:d}),[r,t,c,d]);return(0,o.jsx)(l,{value:u,children:e})}},314011:function(e,t,n){n.d(t,{C:()=>s,R:()=>l});var a=n(667294),r=n(729434),i=n(785893);let{Provider:o,get:l}=(0,r.Z)("MostRecentPin");function s({children:e}){let[t,n]=(0,a.useState)(),[r,l]=(0,a.useState)(),s=(0,a.useCallback)(e=>{l([e].concat((r?r.slice(0,10):[]).filter(t=>t!==e)))},[r]),d=(0,a.useMemo)(()=>({id:t,plpImageSignatures:r,setMostRecentPinId:n,setMostRecentPinImage:s}),[t,r,s]);return(0,i.jsx)(o,{value:d,children:e})}},253861:function(e,t,n){n.d(t,{H:()=>a,J:()=>r});let{Provider:a,getMaybe:r}=(0,n(729434).Z)("PinCreateDeleteContext")},845421:function(e,t,n){n.d(t,{r:()=>P,Z:()=>S});var a,r,i,o,l,s=n(281098),d=n(667294);n(167912);var c=n(748065),u=n(355940),_=n(221020),p=n(28427),f=n(984313),m=n(975740),h=n(169053),g=n(785893);let v=(void 0!==a||(a=n(184139)).hash&&"bb4e0fc2e1a319a6b7c65cb9ad5c8cb6"!==a.hash&&console.error("The definition of 'UnifiedPinRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),b=(void 0!==r||(r=n(249152)).hash&&"cf7ae619f5ec8cf58cf3302e69136b1d"!==r.hash&&console.error("The definition of 'UnifiedPinRepVariant_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),y=(void 0!==i||(i=n(684334)).hash&&"970c9e8a0b93cdd43095e6934563c7eb"!==i.hash&&console.error("The definition of 'UnifiedPinRepVariant_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),E=(void 0!==o||(o=n(897315)).hash&&"2ad46c1434449adc873e18a9bb58cb8c"!==o.hash&&console.error("The definition of 'UnifiedPinRepDefaultPinRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),w=(void 0!==l||(l=n(577846)).hash&&"cb2594cad81be6eec825977b7bcb2003"!==l.hash&&console.error("The definition of 'UnifiedPinRepDefaultPinRep_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),x=e=>{var t,n,a,r;let{pinId:i,pinKey:o,parentPinKey:l,hideContextMenu:s,hideSendButton:v,hideEditButton:b,...y}=e,x=o&&"GraphQL"===(0,_.o)(o),S=(0,p.Z)(E,o),P=(0,p.Z)(w,l),T=(0,h.S6)()(i),I=(0,m.gC)(),A=(t=!!x,S||t?S:T?{type:"Legacy",data:T}:null),C=(0,c.Z)(),R=(0,d.useMemo)(()=>T?{type:"Legacy",data:T}:null,[T]),O=S||x||!C?A:R;return O&&(0,g.jsx)(u.Z,{name:"DefaultPinRep",type:"critical",children:(0,g.jsx)(d.Suspense,{children:(0,g.jsx)(f.Z,{...y,boardKey:(n=!!x,a=S?.pinnedToBoard||S?.board||null,r=I(T?.pinned_to_board?.id||T?.board?.id||""),n?a??null:r?{type:"Legacy",data:r}:null),hideContextMenu:s,hideEditButton:b,hideSendButton:v,parentPinKey:P,pinKey:O})})})};function S({duploQueryRef:e,...t}){(0,d.useEffect)(()=>{(0,s.Z)("UnifiedPinRep","/app/www/PinRep/UnifiedPinRep.tsx")},[]);let n=(0,p.Z)(v,e);return(0,g.jsx)(x,{...t,parentPinKey:null,pinKey:n})}function P({pinKey:e,parentPinKey:t,...n}){(0,d.useEffect)(()=>{(0,s.Z)("UnifiedPinRep","/app/www/PinRep/UnifiedPinRep.tsx")},[]);let a=(0,p.Z)(b,e),r=(0,p.Z)(y,t);return(0,g.jsx)(x,{...n,parentPinKey:r,pinKey:a})}},452516:function(e,t,n){n.d(t,{Z:()=>r});var a=n(793698);function r(){let e=(0,a.dM)();return Object.keys(e).reduce((t,n)=>{let a=e[n];return t[a.username]=a,t},{})}},169053:function(e,t,n){n.d(t,{EQ:()=>s,JC:()=>l,S6:()=>d,_S:()=>c});var a=n(581722),r=n(729434),i=n(785893);let{Provider:o,get:l,getMaybe:s}=(0,r.Z)("Pins");function d(){let e=l();return t=>e[t]}function c({children:e}){let t=(0,a.v9)(({pins:e})=>e,a.wU);return(0,i.jsx)(o,{value:t,children:e})}},793698:function(e,t,n){n.d(t,{LO:()=>u,cm:()=>c,dM:()=>s,kY:()=>_,mN:()=>d});var a=n(581722),r=n(729434),i=n(821342),o=n(785893);let{Provider:l,get:s}=(0,r.Z)("Users");function d(){let e=s();return t=>e[t]}function c(){let e=s();return(t,n=!1)=>{let a=Object.keys(e).find(n=>e[n].username===t);if(a||!n)return e[a??""]}}function u(){let e=(0,i.Z)();return s()[e.isAuth?e.id:""]}function _({children:e}){let t=(0,a.v9)(({users:e})=>e,a.wU);return(0,o.jsx)(l,{value:t,children:e})}},785195:function(e,t,n){n.d(t,{Z:()=>_,j:()=>u});var a=n(281098),r=n(667294),i=n(20256),o=n(505712),l=n(19585),s=n(302148),d=n(675973),c=n(785893);let u=[0,2,3];function _({hasAffiliateProducts:e,hasAffiliateLink:t,href:n,isPromoted:_,onNavigateSponsorClick:p,sponsorName:f,sponsorUsername:m,sponsorshipStatus:h,textWeight:g="bold",isGrid:v}){let b;(0,r.useEffect)(()=>{(0,a.Z)("SponsorshipText","/app/www/SponsorshipText/SponsorshipText.tsx")},[]);let y=(0,l.Z)(),{checkExperiment:E}=(0,d.Z)(),w=E("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,x=(0,o.Z)(),S=n||(m?`/${m}/`:null),P=S&&f?(0,c.jsx)(i.xv,{__dangerouslyOverrideLineHeight:x,size:"200",weight:g,children:(0,c.jsx)(i.rU,{dataTestId:"sponsorship-text-link",href:S,onClick:p,children:f})},f):void 0;return _?b=(0,s.nk)(y._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:P}):h||0===h?f&&!u.includes(h)?b=(0,s.nk)(y._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:P}):2!==h&&(b=y._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):!v&&(t||e)&&(b=y._('Paid link', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,c.jsxs)(i.xv,{__dangerouslyOverrideLineHeight:x,color:"subtle",inline:!0,lineClamp:2,size:"200",children:[w&&!_&&"Ad • "||"",b]})}},151594:function(e,t,n){n.d(t,{A:()=>l,w:()=>s});var a=n(667294),r=n(729434),i=n(785893);let{Provider:o,get:l}=(0,r.Z)("Session");function s({children:e}){let[t,n]=(0,a.useState)(void 0),r=(0,a.useCallback)(()=>n(void 0),[]),l=(0,a.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:n,removeUnauthFollowUserId:r}),[t,r]);return(0,i.jsx)(o,{value:l,children:e})}},330510:function(e,t,n){n.d(t,{D:()=>d,h:()=>s});var a=n(281098),r=n(667294),i=n(675973),o=n(785893);let l=(0,r.createContext)(!1);function s({children:e}){(0,r.useEffect)(()=>{(0,a.Z)("LayoutRedesignContext","/app/www/VisualSearch/LayoutRedesignContext.tsx")},[]);let{checkExperiment:t}=(0,i.Z)(),{anyEnabled:n}=t("web_image_search_redesign");return(0,o.jsx)(l.Provider,{value:n,children:e})}function d(){return(0,r.useContext)(l)}},322838:function(e,t,n){n.d(t,{Z:()=>O});var a,r=n(281098),i=n(667294);n(167912);var o=n(20256),l=n(521009),s=n(821342),d=n(28427),c=n(19585),u=n(670622),_=n(906553),p=n(302148),f=n(15667),m=n(941404),h=n(134475),g=n(734263),v=n(647709),b=n(294126),y=n(975740),E=n(785893);function w({boardId:e}){(0,i.useEffect)(()=>{(0,r.Z)("CollaboratorsAvatars","/app/www/board/CollaboratorsAvatars.tsx")},[]);let t=(0,c.Z)(),n=(0,s.Z)(),a=(0,v.HG)(),l=(0,y.gC)()(e),d=function(e){let t=(0,s.Z)(),n=(0,v.HG)()&&t&&t.isAuth,a=(0,y.gC)()(e);return(0,i.useMemo)(()=>{if(!a)return[];let{owner:e,collaborating_users:r}=a,[i,o,l]=[new Set,new Set,new Set];for(let n of[...e?[e]:[],...r||[]])n.id===e?.id?i.add(n):n.id===(t.isAuth?t.id:void 0)?o.add(n):l.add(n);return[...i,...o,...l].map(e=>({name:(n?e.full_name:e.username)??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??"",color:e?.avatar_color_index??void 0}))},[n,a,t])}(e);if(!l)return null;let{collaborator_count:u=0}=l,_=a&&n&&n.isAuth?23:16,f=_/3*((d.length>2?3:d.length)*2+1),m=u>=d.length?u-d.length:0,h=[...d,...Array(m=m>99?100:m).fill({name:"",src:""})],g="",b=d.slice(0,3).map(e=>e.name);switch(d.length){case 3:g=(0,p.Wc)(`${t._('{{ first }}, {{ second }}, and {{ last }}', 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.usernames.threeAvatars', 'List of three usernames. Placeholders: first: first collaborator name, second: second collaborator name, last: third collaborator name.')}`,{first:`${b[0]??""}`,second:`${b[1]??""}`,last:`${b[2]??""}`});break;case 2:g=(0,p.Wc)(`${t._('{{ first }} and {{ second }}', 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.usernames.twoAvatars', 'List of two usernames. Placeholders: first: first collaborator name, second: second collaborator name.')}`,{first:`${b[0]??""}`,second:`${b[1]??""}`});break;default:g=b.join(", ")}let w=d.length>3?(0,p.Wc)(`, ${t.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', d.length - 3, 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars. Placeholders: userNames: list of displayed collaborator names, leftCount: count of non-displayed collaborators.')}`,{userNames:g,leftCount:`${d.length-3}`}):(0,p.Wc)(`, ${t._('Collaborators: {{ userNames }}.', 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.notAboveThree', 'Accessibility label for the Avatar Group component that lists the names of collaborators. Placeholder: userNames: list of displayed collaborator names.')}`,{userNames:g});return(0,E.jsx)(o.xu,{height:_,marginStart:2,minWidth:f,width:f,children:(0,E.jsx)(o.HE,{accessibilityLabel:w,collaborators:h})})}var x=n(271597),S=n(298097),P=n(38817),T=n(547585),I=n(452516),A=n(438235);let C=(void 0!==a||(a=n(139368)).hash&&"160b60f499ce33660e2c11915eed4d09"!==a.hash&&console.error("The definition of 'BoardCard_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),R=({children:e,isOwnProfile:t,lineClamp:n})=>(0,v.HG)()?(0,E.jsx)(o.X6,{accessibilityLevel:2,lineClamp:t?1:n,size:t?"400":"300",children:e}):(0,E.jsx)(o.xv,{lineClamp:t?1:n,size:t?void 0:"200",weight:"bold",children:e});function O({archivedDate:e,boardId:t,boardUrl:n,canEdit:a,numberOfCollaborators:y,containerBackgroundColor:O,coverPhoto:N,display:k,followButtonDisabled:L=!1,followedByMe:j,fullSizeDrawer:D,sensitivityScreen:F,handleInviteResponse:Z,hideMeta:B,hideSecretBoardIcon:U=!1,id:M,invite:z,imagesLego:V=[],isActive:G,isAttributionHeightUnfixed:H,isAuthenticated:K,isBoardInviteAccepted:W,isCollaborative:$,isCollaborator:q,isCollaboratorsAttributionVisible:Y=!1,isFeaturedBoardsModule:J=!1,isHomePageBoards:X,isOwner:Q,isProtected:ee,isSecret:et,lastModifiedDate:en,layout:ea,lineClamp:er=2,locale:ei,metaMarginTop:eo=0,metaMarginBottom:el=0,metaPaddingY:es=2,name:ed,numCols:ec,onEditClick:eu,onFollow:e_,onUnfollow:ep,pinCount:ef=0,sectionCount:em,slotIndex:eh,showFollowButton:eg,showBoardCollaborators:ev=!0,showTitleOnly:eb,trackingParams:ey,boardKey:eE,viewObjectIdStr:ew,viewParameter:ex,viewType:eS}){(0,i.useEffect)(()=>{(0,r.Z)("BoardCard","/app/www/board/BoardCard.tsx")},[]);let eP=(0,c.Z)(),eT=(0,u.Z)(),eI=(0,_.Z)(),eA=(0,l.Z)(),eC=(0,v.HG)(),{isRTL:eR}=(0,f.B)(),eO=(0,s.Z)(),{username:eN}=(0,A.Z)(),ek=(0,I.Z)(),eL=ek[eN??""]?.is_gco_account,ej=(0,d.Z)(C,eE),{featuredBoardMetadata:eD}=ej||{},{curator:eF,isSponsoredContent:eZ}=eD||{},eB=J&&eZ,eU=eC&&K,eM="square"===ea?x.M0:x.z9,ez="responsive"!==k&&(eU||J)?eM:"100%",eV=eO.isAuth&&eO.username===eN,eG=e=>{K||(0,m.NC)("press_follow_board"),e_&&e_(e)},eH=e=>{K||(0,m.NC)("press_unfollow_board"),ep&&ep(e)},eK=V.map(e=>({url:e.url,name:ed})),eW=!!ej?.owner&&!a&&eg,e$=ej?.owner?.isVerifiedMerchant,eq=ej?.owner?.verifiedIdentity?.verified,eY=$&&!J;eV||(eY&&=!!eN&&!eL);let eJ=!Q&&!q&&!!F?.show_warning,eX={board_id:M,reason:F?.reason},eQ=!eV&&!eb&&(!eN||Y||eL),e0=eU?void 0:x.s0+(eW?x.o2:0);eV||(e0=eC?void 0:(eQ?x.AC:x.Y_)+(eW?x.o2:0));let e1=eW&&"responsive"!==k?`max(calc(25vh + 10px), calc(210px + ${5*!eV}vh))`:"100%";return(0,i.useEffect)(()=>{eJ&&eA({event_type:13,component:13861,view_type:215,aux_data:eX})},[]),(0,E.jsx)(T.fS,{auxData:{board_id:M,board_pin_count:ef??0,board_section_count:em??0,grid_index:eh||0},impressionData:{imageURL:N?.url},loggingId:M,slotIndex:eh||0,trackingParams:ey,viewData:{view_object_id_str:ew},viewParameter:ex,viewType:eS,children:({impressionTrackerRef:r})=>(0,E.jsxs)(o.xu,{ref:r,"data-test-id":`boardCard-${ed}`,height:e&&!eC?"100%":e1,position:"relative",width:ez,children:[(0,E.jsx)(o.zd,{rounding:4,children:(0,E.jsx)(S.Z,{boardKey:ej,canEdit:a,containerBackgroundColor:O,coverPhoto:N,coverPinKey:ej?.coverPin,fullSize:D,hideSecretBoardIcon:U,images:eK,isActive:G,isHomePageBoards:X,isProtected:ee,isSecret:et,layout:ea,onEditClick:eu,renderAsImage:!0,showSensitivityScreen:eJ})}),!B&&(0,E.jsx)(i.Fragment,{children:z?(0,E.jsxs)(i.Fragment,{children:[(0,E.jsxs)(o.xu,{alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",padding:2,children:[(0,E.jsxs)(o.xu,{width:"100%",children:[(0,E.jsx)(o.rU,{href:n??"",children:(0,E.jsx)(o.xu,{marginBottom:1,marginTop:0,children:(0,E.jsx)(R,{isOwnProfile:eV,lineClamp:er,children:ed})})}),W?(0,E.jsx)(o.xv,{lineClamp:1,size:"200",children:eP._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,E.jsx)(o.xv,{size:"200",children:function(e,t){let{full_name:n,username:a}=e,r=(0,E.jsx)(o.rU,{display:"inlineBlock",href:`/${a}`,underline:"hover",children:n},"linkToUser");return(0,p.nk)(t._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:r})}(z.invited_by_user,eP)})]}),ev&&(0,E.jsx)(w,{boardId:t})]}),W?(0,E.jsx)(o.xu,{direction:"row",display:"flex",paddingX:2,children:(0,E.jsx)(o.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,E.jsx)(o.ZP,{fullWidth:!0,href:n??"",size:"lg",text:eP._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,E.jsxs)(o.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,E.jsx)(o.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,E.jsx)(o.zx,{fullWidth:!0,onClick:()=>{Z?.(!1)},size:"lg",text:eP._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,E.jsx)(o.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,E.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:()=>{Z?.(!0)},size:"lg",text:eP._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,E.jsxs)(o.xu,{height:H?void 0:e0,marginBottom:el,marginTop:eo,paddingX:2,paddingY:es,children:[(0,E.jsxs)(o.xu,{alignItems:eV?"center":"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,E.jsx)(R,{isOwnProfile:eV,lineClamp:er,children:ed}),eY&&ev&&(0,E.jsx)(w,{boardId:t})]}),eQ&&(0,E.jsx)(o.xu,{marginTop:1,children:eB?(0,E.jsx)(b.Z,{numberOfCollaborators:0,ownerFullName:eF?.fullName??"",ownerIsVerifiedIdentity:!!eF?.verifiedIdentity?.verified,ownerIsVerifiedMerchant:!!eF?.isVerifiedMerchant,showBoardCollaborators:!1}):(0,E.jsx)(b.Z,{numberOfCollaborators:y,ownerFullName:ej?.owner?.fullName??"",ownerIsVerifiedIdentity:!!eq,ownerIsVerifiedMerchant:!!e$,showBoardCollaborators:ev})}),!eb&&(0,E.jsxs)(o.xu,{alignItems:eC?"center":"start",direction:"row",display:"flex",marginTop:1,children:[(0,E.jsx)(o.kC.Item,{flex:"none",children:(0,E.jsxs)(o.xv,{color:eV?void 0:"subtle",lineClamp:1,size:"100",children:[(0,E.jsx)(h.Z,{}),(0,p.nk)(eP.ngettext('{{ count }} Pin', '{{ count }} Pins', ef, 'profile.ProfilePage.board.BoardCard.pinsCount', 'Show how many Pins there are in the board card. count:number of Pins'),{count:eI(ei,ef,{shortform:!0,shortform_maximum_fraction_digits:1})})]})}),!!em&&(0,E.jsxs)(o.xv,{color:eV?void 0:"subtle",lineClamp:1,size:"100",children:[(0,E.jsx)(g.Z,{ariaHidden:!0,size:"100"}),(0,E.jsx)(h.Z,{}),(0,p.nk)(eP.ngettext('{{ count }} section', '{{ count }} sections', em, 'profile.ProfilePage.board.BoardCard.sectionsCount', 'Show how many sections there are in the board card. count:number of sections'),{count:em})]}),!eV&&(0,E.jsx)(o.xv,{color:"subtle",size:"100",children:(0,E.jsx)(g.Z,{ariaHidden:!0,size:"100"})}),(0,E.jsx)(o.kC.Item,{flex:em?"none":"grow",children:(0,E.jsx)(o.xu,{display:"flex",marginEnd:2*!!eR,marginStart:eV?2:void 0,children:(0,E.jsxs)(o.xv,{color:"subtle",lineClamp:1,size:"100",children:[(0,E.jsx)(h.Z,{}),eT(en,!0)]})})})]}),e&&!eC&&(0,E.jsxs)(o.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:[(0,E.jsx)(h.Z,{}),eP._('Archived', 'profile.ProfilePage.BoardCard.ArchivedText', 'label for archived boards')]}),eW&&(0,E.jsx)(o.xu,{column:2===ec?12:void 0,flex:"none",marginTop:2===ec?3:void 0,children:(0,E.jsx)(P.Z,{disabled:!!ej?.owner?.blockedByMe||L,followEventType:26,id:M,isFollowed:j,onFollow:eG,onUnfollow:eH,pinKey:null,shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:ex,viewType:eS})})]})})]})})}},222401:function(e,t,n){n.r(t),n.d(t,{default:()=>S});var a,r=n(281098),i=n(667294),o=n(581722);n(167912);var l=n(20256),s=n(521009),d=n(821342),c=n(28427),u=n(15667),_=n(941404),p=n(572227),f=n(647709),m=n(322838),h=n(537005),g=n(408575),v=n(207691),b=n(975740),y=n(785893);let E=(void 0!==a||(a=n(184242)).hash&&"b51e16b22d651401bb711c808b3fd44c"!==a.hash&&console.error("The definition of 'BoardRep_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),w=["thumbnail","imageOnly"],x=({isUsingMask:e,setIsHovered:t,children:n})=>{let a=(0,f.HG)();return e&&a?(0,y.jsx)(l.xu,{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:n}):(0,y.jsx)(i.Fragment,{children:n})};function S({boardKey:e,component:t,containerBackgroundColor:n,display:a="responsive",forwardedRef:S,fullSize:P,hideSecretBoardIcon:T=!1,isAttributionHeightUnfixed:I=!1,isCollaboratorsAttributionVisible:A=!1,isFeaturedBoardsModule:C=!1,isHomePageBoards:R,noPaddings:O=!1,showFollowButton:N=!0,isUsingMask:k=!1,showPinCount:L=!0,slotIndex:j,type:D,viewObjectIdStr:F,viewParameter:Z,viewType:B,trackInteractionObjectProp:U,isFromProfileGrid:M=!1,metaMarginTop:z=2,metaMarginBottom:V=0,metaPaddingY:G=0}){(0,i.useEffect)(()=>{(0,r.Z)("BoardRep","/app/www/board/BoardRep.tsx")},[]);let H=(0,d.Z)(),K=H&&H.isAuth,W=(0,o.I0)(),{locale:$}=(0,u.B)(),q=(0,p.Z)(),Y=(0,c.Z)(E,e),J=(0,b.gC)(),X=Y?.entityId?J(Y.entityId):null,Q=(0,h.Z)(Y),ee=(0,s.Z)(),et=(0,f.HG)(),[en,ea]=(0,i.useState)(!1);if(!Y)return null;let{collaboratingUsers:er,owner:ei,privacy:eo,shouldShowBoardCollaborators:el}=Y,es=H.isAuth?H.id:"",ed=ei?.entityId===es,ec=[];er?.__typename==="UserCollaboratingUsersConnectionContainer"?ec=er.connection?.edges?.map(e=>e?.node?.entityId)??[]:X?.collaborating_users&&(ec=X.collaborating_users.map(e=>e.id));let eu=ec.includes(es)||ed;if("secret"===eo&&!eu)return null;let e_=!K&&!(M&&Y.hasCustomCover)&&!!Y.images236x?.[0]?.url,ep="grid"===D||"thumbnail"===D?2:4,ef=e_?Y.images236x?.[0]?.url:Q(ep),em=Y.coverPin??X?.cover_pin,eh=(em?.crop&&em?.size&&{x:em?.crop[0]??0,y:em?.crop[1]??0,width:em?.size[0]??0,height:em?.size[0]??0})??{x:0,y:0,width:0,height:0},eg={isCustom:!e_&&(Y.hasCustomCover||void 0),url:ef,position:eh},ev=Y.pinThumbnailUrls??X?.pin_thumbnail_urls,eb=(0,g.Jx)(Y.images170x,ev?.filter(e=>null!==e)??void 0,ef).map(({url:e})=>({name:(0,g.po)(e),url:e})),ey=[44,49,4182].includes(Z)||[3,442,625].includes(B),eE=Y?.sensitivityScreen?{reason:Y.sensitivityScreen?.reason,showWarning:Y.sensitivityScreen?.showWarning}:void 0,ew=Y.pinCount??X?.pin_count??0,ex=Y.sectionCount??X?.section_count??0,eS=(0,y.jsx)(m.Z,{archivedDate:Y.archivedByMeAt??X?.archived_by_me_at,boardId:Y.entityId,boardKey:Y,canEdit:!!Y.boardAccess&&Y.boardAccess.includes("write"),containerBackgroundColor:n,coverPhoto:eg,display:a,followedByMe:!!(X?.followed_by_me??Y.followedByMe),fullSizeDrawer:P,hideMeta:w.includes(D),hideSecretBoardIcon:T,id:Y.entityId,imagesLego:eb,isActive:en,isAttributionHeightUnfixed:I,isAuthenticated:K,isCollaborative:!!Y.isCollaborative,isCollaborator:!!eu,isCollaboratorsAttributionVisible:A,isFeaturedBoardsModule:C,isHomePageBoards:R,isOwner:ed,isProtected:"protected"===Y.privacy||X?.privacy==="protected",isSecret:"secret"===Y.privacy||X?.privacy==="secret",lastModifiedDate:Y.boardOrderModifiedAt??X?.board_order_modified_at??"",layout:et?"square":void 0,locale:$,metaMarginBottom:V,metaMarginTop:z,metaPaddingY:G,name:Y.name??(X?.name||""),numberOfCollaborators:ec.length,numCols:ep,onFollow:e=>W((0,v.Z)(e,ee)),onUnfollow:e=>W((0,v.f)(e,ee)),pinCount:L&&ew?ew:void 0,sectionCount:ex??0,sensitivityScreen:eE,showBoardCollaborators:!1!==el,showFollowButton:N,showTitleOnly:"imageTitle"===D,slotIndex:j,viewerId:es,viewObjectIdStr:F,viewParameter:Z,viewType:B}),eP=Y.url||X?.url;return!w.includes(D)&&eP?(0,y.jsx)(l.Tg,{dataTestId:"board-rep-tap-area-link",href:K?eP:eP.toLowerCase(),onTap:()=>{if(ey&&ee({aux_data:{board_id:Y.entityId,board_pin_count:ew,board_section_count:ex},component:t??1,element:36,event_type:102,view_parameter:49===Z?ed?3106:3107:Z,view_data:{view_object_id_str:F}}),!K){if((0,_.NC)("click_go_to_board"),U)return void q(U);q({action:"click",item:"board-card"})}},rounding:2,tapStyle:"compress",children:(0,y.jsx)(l.xu,{ref:S,paddingY:O?0:et?2:3,children:(0,y.jsx)(x,{isUsingMask:k,setIsHovered:ea,children:eS})})}):eS}},294126:function(e,t,n){n.d(t,{Z:()=>_});var a=n(281098),r=n(667294),i=n(20256),o=n(785893);let l=({text:e})=>((0,r.useEffect)(()=>{(0,a.Z)("LineClampWrapper","/app/analytics/react/components/DataTable/LineClampWrapper.tsx")},[]),(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},"data-test-id":"line-clamp-wrapper",fit:!0,overflow:"hidden",children:e}));var s=n(19585),d=n(906553),c=n(15667);let u={xs:{icon:12,text:"100",height:15},sm:{icon:16,text:"200",height:17},md:{icon:20,text:"300",height:18},lg:{icon:24,text:"400",height:23}};function _({ownerFullName:e,ownerIsVerifiedMerchant:t,ownerIsVerifiedIdentity:n,numberOfCollaborators:_,size:p="xs",showBoardCollaborators:f=!0}){(0,r.useEffect)(()=>{(0,a.Z)("CollaboratorsAttribution","/app/www/board/CollaboratorsAttribution.tsx")},[]);let m=(0,s.Z)(),{locale:h}=(0,c.B)(),g=(0,d.Z)();return(0,o.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",maxHeight:u[p].height,children:[(0,o.jsx)(i.xv,{lineClamp:1,size:u[p].text,children:(0,o.jsx)(l,{text:e})}),(t||n)&&(0,o.jsx)(i.xu,{flex:"none",marginStart:1,children:t?(0,o.jsx)(i.kw,{accessibilityLabel:m._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant is verified'),color:"info",icon:"compact-check-circle-fill",size:u[p].icon}):(0,o.jsx)(i.kw,{accessibilityLabel:m._('Identity verification badge icon', 'identityVerification.badge.icon', 'Badge indicating that user is verified'),color:"error",icon:"compact-check-circle-fill",size:u[p].icon})}),f&&_>0&&(0,o.jsx)(i.xu,{flex:"none",marginStart:1,marginTop:.25,children:(0,o.jsx)(i.xv,{size:u[p].text,children:"+ "+g(h,_,{shortform:!0,shortform_maximum_fraction_digits:0})})})]})}},509120:function(e,t,n){n.d(t,{Z:()=>u});var a=n(281098),r=n(667294),i=n(20256),o=n(785893);function l(e){return`${Math.min(100*e,100)}%`}function s({customCover:e,imgPos:t,imgUrl:n}){let[a,i]=(0,r.useState)({height:0,loaded:!1,width:0}),{height:o,loaded:s,width:d}=a;if((0,r.useEffect)(()=>{let e=new Image;e.onload=()=>{i({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=n},[n]),!e||!t||!o||!d)return{loaded:s,position:"center center"};let c=d-t.width,u=o-t.height,_=c>0?l(t.x/c):"center",p=u>0?l(t.y/u):"center";return{loaded:s,position:`${_} ${p}`}}function d(e){let{loaded:t,position:n}=s(e),{imgUrl:a}=e,r={backgroundImage:`url(${a})`,backgroundPosition:n,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,o.jsx)(i.xu,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:t&&(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:r},"data-test-id":"cover-image",children:(0,o.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function c(e){let{loaded:t,position:n}=s(e),{alt:a,color:r,imgUrl:l}=e;return(0,o.jsx)(i.zd,{height:"100%",width:"100%",children:t&&(0,o.jsx)("img",{alt:a||"",src:l,style:{backgroundColor:r||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:n,width:"100%"}})})}function u(e){(0,r.useEffect)(()=>{(0,a.Z)("CoverImage","/app/www/board/CoverImage.tsx")},[]);let{renderAsImage:t}=e;return t?(0,o.jsx)(c,{...e}):(0,o.jsx)(d,{...e})}},298097:function(e,t,n){n.d(t,{Z:()=>S});var a,r,i=n(281098),o=n(667294);n(244311);var l=n(20256),s=n(28427),d=n(19585),c=n(97484),u=n(675973),_=n(15667),p=n(647709),f=n(483858),m=n(271597),h=n(509120),g=n(785893);function v({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:n,privacy:a,size:r=20}){(0,o.useEffect)(()=>{(0,i.Z)("PrivacyIcon","/app/www/board/duplo/PrivacyIcon.tsx")},[]);let s=(0,d.Z)();return(0,g.jsx)(l.xu,{alignItems:"center",color:e,direction:"column",display:"flex",height:r,justifyContent:"center",rounding:"circle",width:r,children:(0,g.jsx)(l.JO,{accessibilityLabel:s._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"secret"===a?"lock":"security",size:n??r/2})})}var b=n(865690),y=n(827644);let E=(void 0!==a||(a=n(237453)).hash&&"0e2c441822700a6145ea7cd142c0425b"!==a.hash&&console.error("The definition of 'DrawerImageGroup_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),w=(void 0!==r||(r=n(608649)).hash&&"35b139c2e951baaa6624b30e45f913ce"!==r.hash&&console.error("The definition of 'DrawerImageGroup_coverPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),x="100%";function S(e){(0,o.useEffect)(()=>{(0,i.Z)("DrawerImageGroup","/app/www/board/DrawerImageGroup.tsx")},[]);let t=(0,d.Z)(),{boardKey:n,canEdit:a,containerBackgroundColor:r="white",coverPhoto:S,coverPinKey:P,fullSize:T,hideSecretBoardIcon:I,images:A,isActive:C,isHomePageBoards:R,isProtected:O,isSecret:N,layout:k,onEditClick:L,renderAsImage:j,showSensitivityScreen:D}=e,F=(0,p.HG)(),{isRTL:Z,isAuthenticated:B}=(0,_.B)(),U=(0,s.Z)(E,n),M=(0,s.Z)(w,P),z=(0,o.useRef)(null),V=F&&B,{checkExperiment:G}=(0,u.Z)(),[H,K]=(0,o.useState)(!1);(0,o.useEffect)(()=>{C&&V&&U&&!N&&!H&&K(G("ce_dweb_board_preview_share_button").anyEnabled)},[C,V,U,N,H,G]);let W=(0,o.useRef)(void 0);(0,o.useEffect)(()=>{C?W.current&&(clearTimeout(W.current),W.current=void 0):W.current||(W.current=window.setTimeout(()=>{W.current=void 0,C||K(!1)},200))},[C]),(0,o.useEffect)(()=>()=>{W.current&&clearTimeout(W.current)},[]);let $=A[0],q=!S&&A[0]?.name||t._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),Y=[,,].fill(0),J=new l.Ry(1),X="square"===k?m.M0:m.z9,Q="square"===k?m.FP:m.FC,ee=$?.url?(0,g.jsx)(l.Ee,{alt:q,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:$.url}):(0,g.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"}),et=D?{filter:"blur(20px)"}:{};return(0,g.jsxs)(l.zd,{height:T?"100%":void 0,rounding:4,width:"100%",children:[(0,g.jsxs)(l.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,g.jsx)(l.sg,{span:8,children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:et},height:T?"100%":void 0,position:"relative",children:(0,g.jsx)(l.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:x}},overflow:"hidden",width:"100%",children:(0,g.jsxs)(l.xu,{ref:z,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:R?"#FFDFE9":r,borderStyle:"solid",borderWidth:"1px 0 1px 1px",borderRadius:"16px 0 0 16px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(O||N)&&!I&&(0,g.jsx)(l.xu,{left:!Z,margin:2,position:"absolute",right:Z,top:!0,zIndex:J,children:(0,g.jsx)(v,{backgroundColor:"default",iconColor:"default",privacy:N?"secret":"protected",size:V?32:24})}),S?.url?(0,g.jsx)(l.zd,{height:"100%",wash:!0,width:"100%",children:(0,g.jsx)(h.Z,{customCover:S.isCustom,height:Q,imgPos:M?function(e){let{crop:t,size:n}=e||{};if(Array.isArray(t)&&Array.isArray(n))return{x:t[0]||0,y:t[1]||0,width:n[0]||0,height:n[1]||0}}(M):S.position||{width:0,height:0,x:0,y:0},imgUrl:M?.imageUrl??(S.url||""),renderAsImage:j,width:Math.floor(X/3*2)})}):ee]})})})}),(0,g.jsx)(l.sg,{span:4,children:(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:et},height:"100%",children:[(a||H)&&(0,g.jsxs)(l.xu,{bottom:!0,display:H?"flex":void 0,left:Z,margin:2,opacity:+!!C,position:"absolute",right:!Z,zIndex:J,children:[a&&(0,g.jsx)(l.iP,{onTap:({event:e})=>L?.(e),children:(0,g.jsx)(l.hU,{accessibilityLabel:t._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",size:"sm",tabIndex:-1})}),H&&(0,g.jsx)(l.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation()},children:(0,g.jsx)(l.xu,{marginStart:1,children:(0,g.jsx)(y.Z,{boardKey:U,disableSelectedStyle:!0,handleCreatePincode:()=>{},iconColor:"darkGray",isShowShareIcon:!0,size:"sm"})})})]}),Y.map((e,t)=>{let n=S?A[t]:A[t+1];return(0,g.jsx)(l.xu,{height:T?"50%":void 0,position:"relative",children:(0,g.jsx)(l.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:x}},overflow:"hidden",width:"100%",children:(0,g.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:R?"#FFDFE9":r,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px",borderRadius:0===t?"0 16px 0 0":"0 0 16px 0"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:n?.url?(0,g.jsx)(l.zd,{height:"100%",wash:!0,width:"100%",children:(0,g.jsx)(l.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:n.url})}):(0,g.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"})})})},t)})]})}),D&&(0,g.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,g.jsx)(l.X6,{align:"center",color:"light",size:"400",children:t._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]}),(0,g.jsx)(f.Z,{visibility:C?"visible":"none",children:(0,g.jsx)(b.Z,{additionalStyles:{backgroundColor:c.Dv.LEGO_WASH}})})]})}},271597:function(e,t,n){n.d(t,{AC:()=>o,FC:()=>c,FP:()=>s,M0:()=>l,SA:()=>_,Xq:()=>u,Y_:()=>i,o2:()=>r,s0:()=>a,z9:()=>d});let a=44,r=40,i=49,o=69,l=236,s=157,d=320,c=213,u=7,_=["US","GB","CA","FR","DE","AT","CH","IT","ES","AU","BR","NL","MX"]},537005:function(e,t,n){n.d(t,{Z:()=>l}),n(167912);var a,r=n(28427),i=n(975740);let o=(void 0!==a||(a=n(879991)).hash&&"756d8d8edca35eac0a0500359bf60618"!==a.hash&&console.error("The definition of 'useGetCoverPhoto_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),l=e=>{let t=(0,r.Z)(o,e),n=(0,i.gC)(),a=t?.entityId?n(t.entityId):null,l=t?.imageCoverUrl??a?.image_cover_url,s=t?.coverImageSpec_216x146??a?.cover_images?.spec_216x146,d=t?.coverImageSpec_222x??a?.cover_images?.spec_222x,c=t?.coverImageSpec_400x300??a?.cover_images?.spec_400x300;return e=>{let n=t?.imageCoverHdUrl||t?.imageCoverUrl;if(n)return n;let a=c?.url??d?.url??s?.url??"";return e&&e>2&&a?a:l||""}}},408575:function(e,t,n){n.d(t,{Bw:()=>l,Jx:()=>o,po:()=>a});let a=(e="")=>(e??"").substring((e??"").lastIndexOf("/")+1),r=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),i=e=>{if(!e)return()=>!0;let t=a(e);return e=>"string"==typeof e?a(e)!==t:a(e.url??"")!==t},o=(e,t,n)=>e?e.filter(i(n)):t?t.filter(i(n)).map(r):[],l=e=>(e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})??{x:0,y:0,width:0,height:0}},601686:function(e,t,n){n.d(t,{bq:()=>d,x4:()=>c});var a=n(281098),r=n(667294),i=n(611499),o=n(785893);let l={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:i.Gg,maxWidth:i.u6,descriptionPaneWidth:i.u6-i.Gg,isCommentAttachmentSelectorOpen:!1,isCommentComposerFocused:!1,isCommentPopoverInteractionActive:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,calculatedImageHeight:0,setAbortNoActionPlacementTimeout:()=>{},setIsCloseupMediaViewerOpen:()=>{},setIsCommentAttachmentSelectorOpen:()=>{},setIsCommentComposerFocused:()=>{},setIsCommentPopoverInteractionActive:()=>{},setIsMediaViewerOpen:()=>{},setIsShoppingModuleExpanded:()=>{},setCalculatedImageHeight:()=>{},setViewportSize:()=>{}},s=(0,r.createContext)(l);function d({children:e,value:t}){(0,r.useEffect)(()=>{(0,a.Z)("Context","/app/www/closeup/desktop/Context.tsx")},[]);let n=(0,r.useMemo)(()=>({...l,...t}),[t]);return(0,o.jsx)(s,{value:n,children:e})}function c(){let e=(0,r.useContext)(s);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}},611499:function(e,t,n){n.d(t,{$T:()=>m,CI:()=>o,Ch:()=>s,E$:()=>x,ER:()=>f,Gb:()=>d,Gg:()=>r,Hf:()=>v,Id:()=>E,Ie:()=>u,KP:()=>_,Kn:()=>l,O5:()=>h,d2:()=>c,dm:()=>w,fF:()=>y,g9:()=>p,iB:()=>b,rv:()=>g,u6:()=>i});var a=n(20256);let r=508,i=1016,o=488,l=992,s=672,d=1176,c=40,u=72,_=740,p=32,f=16,m=24,h=2,g=1,v=new a.Ry(5),b={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"},y={boxShadow:"0 2px 5px rgba(0, 0, 0, 0.06)",transition:"box-shadow 200ms ease-in-out"},E="calc(90vh - 80px)",w="calc(55vh + 80px)",x="calc(75vh - 80px)"},280670:function(e,t,n){n.d(t,{O:()=>u,Z:()=>_});var a=n(281098),r=n(667294),i=n(20256),o=n(19585),l=n(694955),s=n(785893);let d=(0,r.lazy)(()=>n.e("28168").then(n.bind(n,494818))),c={xs:12,sm:16,md:20,lg:24};function u({children:e}){(0,r.useEffect)(()=>{(0,a.Z)("VerifiedBadge","/app/www/common/VerifiedBadge/VerifiedBadge.tsx")},[]);let t=(0,o.Z)();return(0,s.jsx)(i.u,{dataTestId:"verified-badge-tooltip",link:(0,s.jsx)(i.rU,{href:l.vBy,target:"blank",children:(0,s.jsx)(i.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function _({iconOnly:e,isVerifiedIdentity:t,isVerifiedMerchant:n,showText:l,size:_,inspirationalBadges:p,inspirationalBadgesColor:f}){(0,r.useEffect)(()=>{(0,a.Z)("VerifiedBadge","/app/www/common/VerifiedBadge/VerifiedBadge.tsx")},[]);let m=(0,o.Z)(),[h,g]=(0,r.useState)(!1),v=(0,s.jsxs)(i.xu,{alignItems:"center","data-test-id":"verified-badge-icon",display:"flex",justifyContent:"start",children:[(0,s.jsx)(i.iP,{onTap:()=>g(!0),children:(0,s.jsx)(i.JO,{accessibilityLabel:m._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"info",icon:"check-circle-fill",inline:!0,size:c[_]})}),l&&(0,s.jsx)(i.xu,{marginStart:2,children:(0,s.jsx)(i.xv,{color:"default",inline:!0,weight:"bold",children:m._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,s.jsxs)(r.Fragment,{children:[n&&!e&&(0,s.jsx)(u,{children:v}),n&&e&&v,t&&!n&&(0,s.jsx)(i.JO,{accessibilityLabel:m._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle-fill",size:c[_]}),!t&&!e&&n&&h&&(0,s.jsx)(r.Suspense,{children:(0,s.jsx)(d,{inspirationalBadges:p,inspirationalBadgesColor:f,setShowModal:g,showModal:h})})]})}},732347:function(e,t,n){n.d(t,{N4:()=>i,Wh:()=>a,hr:()=>r});let a=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),r=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),i=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},352908:function(e,t,n){n.d(t,{Z:()=>l});var a=n(19585),r=n(647709),i=n(848387),o=n(732347);let l=()=>{let e=(0,a.Z)(),t=(0,r.HG)(),{viewer:n,loginForMore:l,limitedLoginModalSubheader:s,limitedLoginModalNextLocation:d}=(0,i.m)();return"LIMITED_LOGIN"===n.type?({modalHeader:n,nextLocation:a})=>r=>{let i=null;r&&(r.nativeEvent&&r.nativeEvent instanceof Event?i=r:r.event&&(i=r.event)),i&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),l?.setVisible(!0),s?.setText(n||(t?(0,o.hr)(e):(0,o.Wh)(e))),a&&d?.setRoute(a)}:({fn:e})=>e}},225013:function(e,t,n){n.d(t,{Z:()=>r});var a=n(536652);function r(e,t){return n=>n((0,a.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}},207691:function(e,t,n){n.d(t,{Z:()=>i,f:()=>o});var a=n(686319),r=n(548286);function i(e,t){return async n=>{n((0,r.md)(e,!0));try{await (0,a.Z)({url:`/v3/boards/${e}/follow/`,method:"PUT"}),t({event_type:26,object_id_str:e})}catch(t){n((0,r.md)(e,!1))}}}function o(e,t){return async n=>{n((0,r.md)(e,!1));try{await (0,a.Z)({url:`/v3/boards/${e}/follow/`,method:"DELETE"}),t({event_type:27,object_id_str:e})}catch(t){n((0,r.md)(e,!0))}}}},686231:function(e,t,n){function a(e){return{type:"PIN_BETTER_SAVE",payload:e}}function r(e){return{type:"PIN_BETTER_SAVE_CUTOUT",payload:e}}function i(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function o(e){return{type:"PIN_BETTER_UNSAVE_CUTOUT",payload:e}}function l(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function s(e){return{type:"PIN_BETTER_SELECT_BOARD_CUTOUT",payload:e}}function d(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}n.d(t,{ND:()=>d,Vp:()=>l,a1:()=>a,b6:()=>s,jg:()=>i,o4:()=>r,ti:()=>o})},401450:function(e,t,n){n.d(t,{Ge:()=>c,JS:()=>o,P_:()=>l,Q_:()=>p,b8:()=>f,cg:()=>s,h2:()=>u,h6:()=>_});var a=n(575108),r=n(686319),i=n(843466);function o(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let l=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),s=(e,t)=>({type:"USER_FOLLOWING_COUNT",payload:{id:e,following:t}}),d=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),c=({id:e,orbacSubjectId:t,blockSource:n,blockContext:r,logContextEvent:i})=>async o=>{o(d(e,!0));let l=await a.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:n,block_context:r}).callCreate().catch(()=>o(d(e,!1)));return i({event_type:54,object_id_str:e}),l},u=(e,t)=>async n=>{n(d(e,!1));let r=await a.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(()=>n(d(e,!0)));return t({event_type:55,object_id_str:e}),r};function _(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let p=(e,t)=>()=>a.Z.create("UserStateResource",{state:e,value:t}).callCreate(),f=(e,t,n)=>(a,o)=>{(0,r.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{n({event_type:48,object_id_str:o().session.userId}),e(),(0,i.Z)()},t)}},696323:function(e,t,n){n.d(t,{Z:()=>a});let a={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",AUTOMAGICAL_BOARD_FEED:"automagical-board-feed",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USE_CASE_TAB:"useCaseFeed",TRIED_IT_FEED:"trieditfeed"}},854167:function(e,t,n){n.d(t,{Z:()=>m});var a,r=n(281098),i=n(667294);n(167912);var o=n(20256),l=n(679422),s=n(28427),d=n(19585),c=n(896273),u=n(77836),_=n(785893);let p=(void 0!==a||(a=n(452525)).hash&&"f459445ee8d1ea0db022e490ef5a2e80"!==a.hash&&console.error("The definition of 'SendBoardFlyout_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);class f extends i.Component{constructor(...e){var t,n,a;super(...e),n={flyoutOpen:!1},(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?a:a+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}render(){let{board:e,bgColor:t="white",children:n,disableSelectedStyle:a,iconColor:r="gray",onCreatePincode:l,showTooltip:s,size:d="lg"}=this.props,{flyoutOpen:p}=this.state,f={description:e?.description,id:e?.entityId??"",imageUrl:e?.imageCoverUrl,name:e?.name??void 0,type:"board",url:e?.url??void 0},m=e=>{let{requireAuth:t}=this.props;if(t){e&&e.preventDefault(),t();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},h=n&&n({active:p,onClick:()=>m()})||(0,_.jsx)(o.hU,{ref:this.props.sendBoardButtonRef,accessibilityLabel:this.props.i18n._('Send Board', 'Accessible label for button to send board', 'Accessible label for button to send board'),bgColor:t,dataTestId:"send-board-button-icon",icon:"share",iconColor:r,onClick:({event:e})=>m(e),selected:!a&&p,size:d,tooltip:s?{text:this.props.i18n._('Share board', 'sendBoardFlyout.button.tooltip', 'Tooltip for button to share board')}:void 0});return(0,_.jsxs)(i.Fragment,{children:[(0,_.jsx)(o.xu,{ref:e=>{this.anchor=e},children:h}),this.state.flyoutOpen&&(0,_.jsx)(o.mh,{zIndex:u.m6,children:(0,_.jsx)(o.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>m(),positionRelativeToAnchor:!1,size:"flexible",children:(0,_.jsx)(c.Z,{component:13216,onCreatePincodeClick:l?()=>{m(),l()}:void 0,onHide:()=>m(),sendType:"board",sharedObject:f,viewType:5})})})]})}componentDidMount(){(0,r.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")}}let m=e=>{(0,i.useEffect)(()=>{(0,r.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")},[]);let t=(0,d.Z)(),n=(0,l.Z)(),a=(0,s.Z)(p,e.boardKey);return(0,_.jsx)(f,{...e,board:a,i18n:t,requireAuth:n,sendBoardButtonRef:e.sendBoardButtonRef})}},827644:function(e,t,n){n.d(t,{Z:()=>h});var a,r=n(281098),i=n(667294);n(244311);var o=n(20256),l=n(980787),s=n(679422),d=n(194753),c=n(28427),u=n(19585),_=n(854167),p=n(277168),f=n(785893);let m=(void 0!==a||(a=n(423347)).hash&&"8d95294efe15498023c69669c6a41e71"!==a.hash&&console.error("The definition of 'SendBoardButton_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function h({boardKey:e,handleCreatePincode:t,iconColor:n,isShowShareIcon:a,showTooltip:h,disableSelectedStyle:g,size:v="lg"}){(0,i.useEffect)(()=>{(0,r.Z)("SendBoardButton","/app/www/save/board/Headers/BoardHeader/SendBoardButton.tsx")},[]);let{logContextEvent:b}=(0,l.u)(),y=(0,u.Z)(),E=(0,s.Z)(),w=(0,i.useRef)(null),x=(0,c.Z)(m,e),S=y._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board');return(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(_.Z,{boardKey:x,disableSelectedStyle:g,iconColor:n,onCreatePincode:t,onOpen:()=>{if(E)return void E();(0,p.Z)(b)},sendBoardButtonRef:w,showTooltip:h,size:v,children:a?void 0:({onClick:e})=>(0,f.jsx)(o.xu,{"data-test-id":"board-share-button-auth",children:(0,f.jsx)(o.zx,{ref:w,color:"gray",fullWidth:!0,onClick:e,size:v,text:S})})}),(0,f.jsx)(d.N,{anchors:{3018:w.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}},277168:function(e,t,n){function a(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}n.d(t,{Z:()=>a})},400741:function(e,t,n){n.d(t,{Z:()=>_});var a=n(281098),r=n(667294),i=n(20256),o=n(475498),l=n(19585),s=n(886981),d=n(647709),c=n(785893);function u({ideaPinImages:e}){(0,r.useEffect)(()=>{(0,a.Z)("FollowingToastThumbnail","/app/www/toasts/FollowingToastThumbnail.tsx")},[]);let t=e.map((e,t)=>(0,c.jsx)(i.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},height:48,overflow:"hidden",rounding:2,width:28,children:e?.url&&(0,c.jsx)(i.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e.url})},t));return(0,c.jsx)(i.kC,{justifyContent:"center",children:(0,c.jsx)(i.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:t})})}function _({handleHide:e,text:t,userId:n,href:_,imageUrl:p}){(0,r.useEffect)(()=>{(0,a.Z)("UserFollowingToast","/app/www/toasts/UserFollowingToast.tsx")},[]);let f=(0,l.Z)(),m=(0,d.HG)(),h=(0,s.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:n}}),g=Array.isArray(t)?t.join(" "):t;if(0===(h.data||[]).length)return(0,c.jsx)(o.Z,{duration:5e3,href:_,onHide:e,text:g,thumbnail:p?{image:(0,c.jsx)(i.Ee,{alt:f._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:p})}:void 0});let v=(h.data||[]).slice(0,3).map(e=>e.images?.[m?"236x":"170x"]),b=(0,c.jsx)(u,{ideaPinImages:v});return(0,c.jsx)(o.Z,{_dangerouslySetThumbnail:b,duration:5e3,href:_,onHide:e,text:g})}},210031:function(e,t,n){n.d(t,{$:()=>h,G:()=>g});var a=n(281098),r=n(667294),i=n(422578),o=n(312048),l=n(675973),s=n(15667);function d(e){let t={result:{kind:"Pending",promise:e},read:()=>(function(e){let{result:t}=e;switch(t.kind){case"Pending":throw t.promise;case"Ok":return t.value;case"Err":throw t.error;default:throw Error("Unexpected case")}})(t)};return e.then(e=>{t.result={kind:"Ok",value:e}}).catch(e=>{t.result={kind:"Err",error:e}}),t}var c=n(850954),u=n(603316),_=n(785893);let p=(0,r.createContext)(null),f=/(^\/)|:|(\/$)/g,m=/\//g,h=({children:e})=>{(0,r.useEffect)(()=>{(0,a.Z)("EntrypointContext","/pws/entrypoint-router/EntrypointContext.tsx")},[]);let t=(0,i.useRelayEnvironment)(),{checkExperiment:n}=(0,l.Z)(),d=(0,s.B)(),h=(0,r.useRef)({}),g=(0,r.useCallback)(e=>{let{rootComponent:a,loadedValueState:r}=b(v(h.current,e),e,"Both",t,n,d);return"NotYetRendered"===r.performanceLoggingState.kind&&(r.performanceLoggingState={kind:"InitiallyRendered",initialRenderTime:Date.now()}),{rootComponent:a,onEntrypointDataLoaded:t=>{if("InitiallyRendered"===r.performanceLoggingState.kind){let n=Date.now();(0,u.LY)("entrypointRouter.routeTiming."+e.kind.replace(f,"").replace(m,"_"),n-r.performanceLoggingState.initialRenderTime,{sampleRate:.1,tags:t??{}}),r.performanceLoggingState={kind:"Complete"}}},loadedValue:r.loadedValue}},[n,t,d]),y=(0,o.s0)(),E=(0,r.useCallback)(e=>{b(v(h.current,e),e,"Both",t,n,d),y((0,c.w)(e))},[y,n,t,d]),w=(0,r.useCallback)((e,a)=>{let r=v(h.current,e);"Both"===a&&b(r,e,a,t,n,d)},[n,t,d]),x=(0,r.useMemo)(()=>({loadAndReadDuringRender__INTERNAL:g,preload:w,imperativelyNavigate:E}),[g,E,w]);return(0,_.jsx)(p,{value:x,children:e})};function g(){let e=(0,r.useContext)(p);if(null==e)throw Error("Missing entrypoint context");return e}function v(e,t){let n=c.Z[t.kind];if(null==n)throw Error("Unexpected missing route! Did you define it in routeMap.ts?");return e[t.kind]??={rootComponent:d(n.rootComponent()),loadedValueStates:{},loader:d(n.loader())}}function b(e,t,n,a,r,i){var o;let l=JSON.stringify(function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);let n=Object.keys(t).sort(),a={};for(let r=0;r<n.length;r++)a[n[r]]=e(t[n[r]]);return a}(t.routeParams)),{loadedValueStates:s,rootComponent:c,loader:_}=e;return{rootComponent:c,loadedValueState:s[l]??=(o=t.kind,setTimeout(()=>{let e=s[l];null!=e&&(0,u.nP)("entrypointRouter.entrypointUse",{sampleRate:.1,tags:{routeName:o,usedInTime:"NotYetRendered"!==e.performanceLoggingState.kind}})},3e4),{loadedValue:function(e,t){var n,a;let{result:r}=e;switch(r.kind){case"Pending":return d(r.promise.then(t));case"Ok":return{result:{kind:"Ok",value:n=t(r.value)},read:()=>n};case"Err":return{result:{kind:"Err",error:a=r.error},read:()=>{throw a}};default:throw Error("Unexpected case")}}(_,e=>e({routeParams:t.routeParams,relayEnvironment:a,checkExperiment:r,requestContext:i})),performanceLoggingState:{kind:"NotYetRendered"}})}}},850954:function(e,t,n){n.d(t,{w:()=>i,Z:()=>r});var a=n(312048);let r={"/collage-creation-tool":{loader:()=>Promise.all([n.e("8126"),n.e("50444")]).then(n.bind(n,31156)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("25418"),n.e("19007"),n.e("57207"),n.e("8126"),n.e("54682"),n.e("32013"),n.e("41778"),n.e("35464"),n.e("76201")]).then(n.bind(n,584118)).then(e=>e.default)},"/ideas":{loader:()=>Promise.all([n.e("25418"),n.e("996")]).then(n.bind(n,589382)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("25418"),n.e("13611"),n.e("47336")]).then(n.bind(n,671804)).then(e=>e.default)},"/pin/:id/analytics":{loader:()=>n.e("62315").then(n.bind(n,540803)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("25418"),n.e("15417"),n.e("16868"),n.e("13305"),n.e("54960"),n.e("66387"),n.e("38477"),n.e("23841"),n.e("16829")]).then(n.bind(n,126833)).then(e=>e.default)},"/today/":{loader:()=>n.e("42207").then(n.bind(n,489815)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("25418"),n.e("91678")]).then(n.bind(n,682910)).then(e=>e.default)}};function i(e){return(0,a.Gn)(e.kind,e.routeParams)}},64834:function(e,t,n){n.d(t,{Z:()=>r,u:()=>a});let a="HIDDEN_ON_SERVER_ERROR",r=e=>e instanceof Object&&"message"in e&&"string"==typeof e.message&&e.message.includes(a)},934041:function(e,t,n){n.d(t,{I:()=>o,t:()=>i});var a=n(667294),r=n(312048);let i=(0,a.createContext)(null);function o(){return(0,r.TH)()===(0,a.useContext)(i)}},438235:function(e,t,n){n.d(t,{Z:()=>o});var a=n(616550),r=n(312048),i=n(675973);function o(){return((0,i.Z)().checkExperiment("web_react_router_v6").anyEnabled?r.UO:a.UO)()}},216019:function(e,t,n){function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}n.d(t,{Z:()=>a})},535091:function(e,t,n){function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}n.d(t,{Z:()=>r})},70443:function(e,t,n){function a(e,t){if(null==e)return{};var n={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}n.d(t,{Z:()=>a})},121835:function(e,t,n){n.d(t,{Z:()=>a});function a(e,t){if(!e)throw Error("Invariant failed")}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/1305-683cf83d81218c56.mjs.map